/*! For license information please see modu.9b187e0e130ff81e.js.LICENSE.txt */
"use strict";(("undefined"!=typeof self?self:this).webpackChunk_polkadot_apps=("undefined"!=typeof self?self:this).webpackChunk_polkadot_apps||[]).push([[1080],{53878:(e,t,r)=>{r.d(t,{X:()=>Ir});var n={};r.r(n),r.d(n,{AccountId:()=>Ge,Bin:()=>Nt,Binary:()=>Pt,Blake2128:()=>et,Blake2128Concat:()=>tt,Blake2256:()=>Qe,Blake3256:()=>o,Blake3256Concat:()=>c,Bytes:()=>u.Jj,Enum:()=>Qt,FixedSizeBinary:()=>Ot,Hex:()=>L,Identity:()=>rt,Option:()=>u.Wx,Result:()=>u.x4,ScaleEnum:()=>u.xs,Self:()=>Kt,Storage:()=>vt,Struct:()=>u.AU,Tuple:()=>u.ps,Twox128:()=>gt,Twox256:()=>yt,Twox64Concat:()=>mt,Variant:()=>rr,Vector:()=>u.OW,_Enum:()=>Yt,_void:()=>u.R9,bitSequence:()=>Xt,blockHeader:()=>hr,bool:()=>u.Xg,char:()=>Lt,compact:()=>u.oA,compactBn:()=>d,compactNumber:()=>l,createCodec:()=>u.VG,createDecoder:()=>u.UF,decAnyMetadata:()=>le,enhanceCodec:()=>u.hD,enhanceDecoder:()=>u.sv,enhanceEncoder:()=>u.J8,ethAccount:()=>ar,fixedStr:()=>Ft,fromBufferToBase58:()=>Ke,getMultisigAccountId:()=>yr,getSs58AddressInfo:()=>Ze,h64:()=>ht,i128:()=>u.bH,i16:()=>u.TQ,i256:()=>u.jn,i32:()=>u.kx,i64:()=>u.fO,i8:()=>u.i8,metadata:()=>ae,selfDecoder:()=>zt,selfEncoder:()=>Zt,sortMultisigSignatories:()=>mr,str:()=>u.Bd,u128:()=>u.z7,u16:()=>u.KB,u256:()=>u.Ks,u32:()=>u.Jq,u64:()=>u.AW,u8:()=>u.u8,v14:()=>ee,v14Lookup:()=>H,v15:()=>ne});const i=(...e)=>{const t=e.reduce(((e,t)=>e+t.byteLength),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.byteLength}return r};var s=r(18620);const a={dkLen:32},o=e=>(0,s.w)(e,a),c=e=>i(o(e),e);var u=r(65202);const l=u.oA,d=u.oA,p={specVersion:u.Jq,specName:u.Bd,base58Prefix:u.KB,decimals:u.u8,tokenSymbol:u.Bd},h=(0,u.AU)(p),g=(0,u.Jj)(32),y=(0,u.xs)({V0:u.R9,V1:(0,u.AU)({typeInformationTreeRoot:g,extrinsicMetadataHash:g,...p})});(0,u.xs)({bool:u.R9,char:u.R9,str:u.R9,u8:u.R9,u16:u.R9,u32:u.R9,u64:u.R9,u128:u.R9,u256:u.R9,i8:u.R9,i16:u.R9,i32:u.R9,i64:u.R9,i128:u.R9,i256:u.R9});const m=(0,u.xs)({bool:u.R9,char:u.R9,str:u.R9,u8:u.R9,u16:u.R9,u32:u.R9,u64:u.R9,u128:u.R9,u256:u.R9,i8:u.R9,i16:u.R9,i32:u.R9,i64:u.R9,i128:u.R9,i256:u.R9,compactU8:u.R9,compactU16:u.R9,compactU32:u.R9,compactU64:u.R9,compactU128:u.R9,compactU256:u.R9,void:u.R9,perId:l}),f=(0,u.AU)({name:(0,u.Wx)(u.Bd),ty:m,typeName:(0,u.Wx)(u.Bd)}),_=(0,u.xs)({composite:(0,u.OW)(f),enumeration:(0,u.AU)({name:u.Bd,fields:(0,u.OW)(f),index:l}),sequence:m,array:(0,u.AU)({len:u.Jq,typeParam:m}),tuple:(0,u.OW)(m),bitSequence:(0,u.AU)({numBytes:u.u8,leastSignificantBitFirst:u.Xg})}),v=(0,u.AU)({path:(0,u.OW)(u.Bd),typeDef:_,typeId:l}),w=(0,u.OW)(v),b=(0,u.AU)({version:u.u8,addressTy:m,callTy:m,signatureTy:m,signedExtensions:(0,u.OW)((0,u.AU)({identifier:u.Bd,includedInExtrinsic:m,includedInSignedData:m}))}),x=(0,u.sv)(u.u8[1],(e=>({version:-129&e,signed:!!(128&e)}))),k=u.ps.dec(u.oA[1],x,(0,u.Jj)(1/0)[1]),E=((0,u.AU)({leaves:w,leafIdxs:(0,u.OW)(u.Jq),proofs:(0,u.OW)(g),extrinsic:b,info:h}),{u8:1,u16:2,u32:4,u64:8}),S=(0,u.OW)(u.Bd),q=(0,u.Wx)(u.Bd),U=(0,u.xs)({bool:u.R9,char:u.R9,str:u.R9,u8:u.R9,u16:u.R9,u32:u.R9,u64:u.R9,u128:u.R9,u256:u.R9,i8:u.R9,i16:u.R9,i32:u.R9,i64:u.R9,i128:u.R9,i256:u.R9}),A=(0,u.OW)((0,u.AU)({name:q,type:l,typeName:q,docs:S})),I=(0,u.AU)({len:u.Jq,type:l}),T=(0,u.AU)({bitStoreType:l,bitOrderType:l}),C=(0,u.OW)((0,u.AU)({name:u.Bd,fields:A,index:u.u8,docs:S})),R=(0,u.xs)({composite:A,variant:C,sequence:l,array:I,tuple:(0,u.OW)(l),primitive:U,compact:l,bitSequence:T}),M=(0,u.AU)({name:u.Bd,type:(0,u.Wx)(l)}),B=(0,u.OW)(M),P=(0,u.AU)({id:l,path:S,params:B,def:R,docs:S}),H=(0,u.OW)(P),O="0123456789abcdef";function D(e){const t=new Array(e.length+1);t[0]="0x";for(let r=0;r<e.length;){const n=e[r++];t[r]=O[n>>4]+O[15&n]}return t.join("")}const V={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15};function N(e){const t=e.length%2,r=("x"===e[1]?2:0)+t,n=(e.length-r)/2+t,i=new Uint8Array(n);t&&(i[0]=0|V[e[2]]);for(let s=0;s<n;){const n=r+2*s,a=V[e[n]],o=V[e[n+1]];i[t+s++]=a<<4|o}return i}const $=e=>{const t=u.Jj.enc(e);return e=>t(N(e))},X=e=>{const t=u.Jj.dec(e);return e=>D(t(e))},L=e=>(0,u.VG)($(e),X(e));L.enc=$,L.dec=X;const j=(0,u.xs)({Blake2128:u.R9,Blake2256:u.R9,Blake2128Concat:u.R9,Twox128:u.R9,Twox256:u.R9,Twox64Concat:u.R9,Identity:u.R9}),W=(0,u.OW)(j),F=(0,u.AU)({hashers:W,key:l,value:l}),Z=(0,u.AU)({name:u.Bd,modifier:u.u8,type:(0,u.xs)({plain:l,map:F}),fallback:L(),docs:S}),z=(0,u.Wx)((0,u.AU)({prefix:u.Bd,items:(0,u.OW)(Z)})),K={name:u.Bd,storage:z,calls:(0,u.Wx)(l),events:(0,u.Wx)(l),constants:(0,u.OW)((0,u.AU)({name:u.Bd,type:l,value:L(),docs:S})),errors:(0,u.Wx)(l),index:u.u8},G={...K,docs:S},J=new Uint8Array,Q=e=>(0,u.VG)((()=>J),(()=>e)),Y=(0,u.AU)({type:l,version:u.u8,signedExtensions:(0,u.OW)((0,u.AU)({identifier:u.Bd,type:l,additionalSigned:l}))}),ee=(0,u.AU)({lookup:H,pallets:(0,u.OW)((0,u.AU)({...K,docs:Q([])})),extrinsic:Y,type:l,apis:Q([])}),te=(0,u.AU)({name:u.Bd,methods:(0,u.OW)((0,u.AU)({name:u.Bd,inputs:(0,u.OW)((0,u.AU)({name:u.Bd,type:l})),output:l,docs:S})),docs:S}),re=(0,u.AU)({version:u.u8,address:l,call:l,signature:l,extra:l,signedExtensions:(0,u.OW)((0,u.AU)({identifier:u.Bd,type:l,additionalSigned:l}))}),ne=(0,u.AU)({lookup:H,pallets:(0,u.OW)((0,u.AU)(G)),extrinsic:re,type:l,apis:(0,u.OW)(te),outerEnums:(0,u.AU)({call:l,event:l,error:l}),custom:(0,u.OW)((0,u.ps)(u.Bd,(0,u.AU)({type:l,value:L()})))}),ie=()=>{throw new Error("Unsupported metadata version!")},se=(0,u.VG)(ie,ie),ae=(0,u.AU)({magicNumber:u.Jq,metadata:(0,u.xs)({v0:se,v1:se,v2:se,v3:se,v4:se,v5:se,v6:se,v7:se,v8:se,v9:se,v10:se,v11:se,v12:se,v13:se,v14:ee,v15:ne})}),oe=(0,u.Jj)(),ce=(0,u.Wx)(oe),ue=(0,u.ps)(u.oA,oe),le=e=>{try{return ae.dec(e)}catch(e){}try{return ae.dec(ce.dec(e))}catch(e){}try{return ae.dec(oe.dec(e))}catch(e){}try{return ae.dec(ue.dec(e)[1])}catch(e){}throw null},de=e=>{const t=e.length;let r=0;for(let n=0;n<t;n++)r+=e[n].byteLength;const n=new Uint8Array(r);for(let r=0,i=0;r<t;r++){const t=e[r];n.set(t,i),i+=t.byteLength}return n},pe=e=>"string"==typeof e?N(e):e,he={null:"void",u8:"compactU8",u16:"compactU16",u32:"compactU32",u64:"compactU64",u128:"compactU128",u256:"compactU256"},ge={bool:u.u8,char:u.u8,str:u.Bd,u8:u.u8,u16:u.KB,u32:u.Jq,u64:u.AW,u128:u.z7,u256:u.Ks,i8:u.i8,i16:u.TQ,i32:u.kx,i64:u.fO,i128:u.bH,i256:u.jn,void:u.R9,compactU8:u.oA,compactU16:u.oA,compactU32:u.oA,compactU64:u.oA,compactU128:u.oA,compactU256:u.oA},ye=(e,t,r,n,i)=>{if("perId"!==t.tag)return void ge[t.tag][1](e);const s=t=>{ye(e,t,r,n,i)},a=r.get(t.value),[o]=a,c=n[o];switch(1===a.length&&i.add(o),c.typeDef.tag){case"enumeration":{const t=u.u8.dec(e),[r,o]=a.map((e=>[n[e].typeDef,e])).find((([e])=>e.value.index===t));i.add(o),r.value.fields.forEach((({ty:e})=>{s(e)}));break}case"sequence":{const t=u.oA.dec(e);for(let e=0;e<t;e++)s(c.typeDef.value);break}case"array":for(let e=0;e<c.typeDef.value.len;e++)s(c.typeDef.value.typeParam);break;case"composite":c.typeDef.value.forEach((e=>{s(e.ty)}));break;case"tuple":c.typeDef.value.forEach(s);break;case"bitSequence":throw new Error("bitSequence is not supported")}},me=(e,t,r)=>{let n=new Uint8Array;(0,u.UF)((e=>{n=e}))(e);const i=new Map;r.forEach(((e,t)=>{const r=i.get(e.typeId);r?r.push(t):i.set(e.typeId,[t])}));const s=new Set;return t.forEach((e=>{ye(n,e,i,r,s)})),[...s].sort(((e,t)=>e-t))},fe=e=>0|Math.log2(e+1);function _e(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ve(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every((e=>"string"==typeof e)):t.every((e=>Number.isSafeInteger(e)))))}function we(e){if("function"!=typeof e)throw new Error("function expected");return!0}function be(e,t){if("string"!=typeof t)throw new Error(`${e}: string expected`);return!0}function xe(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function ke(e){if(!Array.isArray(e))throw new Error("array expected")}function Ee(e,t){if(!ve(!0,t))throw new Error(`${e}: array of strings expected`)}function Se(e,t){if(!ve(!1,t))throw new Error(`${e}: array of numbers expected`)}function qe(...e){const t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map((e=>e.encode)).reduceRight(r,t),decode:e.map((e=>e.decode)).reduce(r,t)}}function Ue(e){const t="string"==typeof e?e.split(""):e,r=t.length;Ee("alphabet",t);const n=new Map(t.map(((e,t)=>[e,t])));return{encode:n=>(ke(n),n.map((n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]}))),decode:t=>(ke(t),t.map((t=>{be("alphabet.decode",t);const r=n.get(t);if(void 0===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r})))}}function Ae(e=""){return be("join",e),{encode:t=>(Ee("join.decode",t),t.join(e)),decode:t=>(be("join.decode",t),t.split(e))}}function Ie(e,t="="){return xe(e),be("padding",t),{encode(r){for(Ee("padding.encode",r);r.length*e%8;)r.push(t);return r},decode(r){Ee("padding.decode",r);let n=r.length;if(n*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if((n-1)*e%8==0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}function Te(e){return we(e),{encode:e=>e,decode:t=>e(t)}}function Ce(e,t,r){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(ke(e),!e.length)return[];let n=0;const i=[],s=Array.from(e,(e=>{if(xe(e),e<0||e>=t)throw new Error(`invalid integer: ${e}`);return e})),a=s.length;for(;;){let e=0,o=!0;for(let i=n;i<a;i++){const a=s[i],c=t*e,u=c+a;if(!Number.isSafeInteger(u)||c/t!==e||u-a!==c)throw new Error("convertRadix: carry overflow");const l=u/r;e=u%r;const d=Math.floor(l);if(s[i]=d,!Number.isSafeInteger(d)||d*r+e!==u)throw new Error("convertRadix: carry overflow");o&&(d?o=!1:n=i)}if(i.push(e),o)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}const Re=(e,t)=>0===t?e:Re(t,e%t),Me=(e,t)=>e+(t-Re(e,t)),Be=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function Pe(e,t,r,n){if(ke(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(Me(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${Me(t,r)}`);let i=0,s=0;const a=Be[t],o=Be[r]-1,c=[];for(const n of e){if(xe(n),n>=a)throw new Error(`convertRadix2: invalid data word=${n} from=${t}`);if(i=i<<t|n,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)c.push((i>>s-r&o)>>>0);const e=Be[s];if(void 0===e)throw new Error("invalid carry");i&=e-1}if(i=i<<r-s&o,!n&&s>=t)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&c.push(i>>>0),c}function He(e,t=!1){if(xe(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Me(8,e)>32||Me(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!_e(r))throw new Error("radix2.encode input should be Uint8Array");return Pe(Array.from(r),8,e,!t)},decode:r=>(Se("radix2.decode",r),Uint8Array.from(Pe(r,e,8,t)))}}function Oe(e){return we(e),function(...t){try{return e.apply(null,t)}catch(e){}}}qe(He(4),Ue("0123456789ABCDEF"),Ae("")),qe(He(5),Ue("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Ie(5),Ae("")),qe(He(5),Ue("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Ae("")),qe(He(5),Ue("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Ie(5),Ae("")),qe(He(5),Ue("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Ae("")),qe(He(5),Ue("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Ae(""),Te((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),qe(He(6),Ue("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Ie(6),Ae("")),qe(He(6),Ue("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Ae("")),qe(He(6),Ue("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Ie(6),Ae(""));const De=(qe(He(6),Ue("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Ae("")),e=>{return qe((xe(t=58),{encode:e=>{if(!_e(e))throw new Error("radix.encode input should be Uint8Array");return Ce(Array.from(e),256,t)},decode:e=>(Se("radix.decode",e),Uint8Array.from(Ce(e,t,256)))}),Ue(e),Ae(""));var t}),Ve=De("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Ne=(De("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),De("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),qe(Ue("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Ae(""))),$e=[996825010,642813549,513874426,1027748829,705979059];function Xe(e){const t=e>>25;let r=(33554431&e)<<5;for(let e=0;e<$e.length;e++)1==(t>>e&1)&&(r^=$e[e]);return r}function Le(e,t,r=1){const n=e.length;let i=1;for(let t=0;t<n;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw new Error(`Invalid prefix (${e})`);i=Xe(i)^r>>5}i=Xe(i);for(let t=0;t<n;t++)i=Xe(i)^31&e.charCodeAt(t);for(let e of t)i=Xe(i)^e;for(let e=0;e<6;e++)i=Xe(i);return i^=r,Ne.encode(Pe([i%Be[30]],30,5,!1))}function je(e){const t="bech32"===e?1:734539939,r=He(5),n=r.decode,i=r.encode,s=Oe(n);function a(e,r,n=90){be("bech32.encode prefix",e),_e(r)&&(r=Array.from(r)),Se("bech32.encode",r);const i=e.length;if(0===i)throw new TypeError(`Invalid prefix length ${i}`);const s=i+7+r.length;if(!1!==n&&s>n)throw new TypeError(`Length ${s} exceeds limit ${n}`);const a=e.toLowerCase(),o=Le(a,r,t);return`${a}1${Ne.encode(r)}${o}`}function o(e,r=90){be("bech32.decode input",e);const n=e.length;if(n<8||!1!==r&&n>r)throw new TypeError(`invalid string length: ${n} (${e}). Expected (8..${r})`);const i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const s=i.lastIndexOf("1");if(0===s||-1===s)throw new Error('Letter "1" must be present between prefix and data only');const a=i.slice(0,s),o=i.slice(s+1);if(o.length<6)throw new Error("Data must be at least 6 characters long");const c=Ne.decode(o).slice(0,-6),u=Le(a,c,t);if(!o.endsWith(u))throw new Error(`Invalid checksum in ${e}: expected "${u}"`);return{prefix:a,words:c}}return{encode:a,decode:o,encodeFromBytes:function(e,t){return a(e,i(t))},decodeToBytes:function(e){const{prefix:t,words:r}=o(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:Oe(o),fromWords:n,fromWordsUnsafe:s,toWords:i}}je("bech32"),je("bech32m");qe(He(4),Ue("0123456789abcdef"),Ae(""),Te((e=>{if("string"!=typeof e||e.length%2!=0)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));var We=r(46275);const Fe=(new TextEncoder).encode("SS58PRE"),Ze=e=>{try{const t=Ve.decode(e),r=t.subarray(0,64&t[0]?2:1),n=t.subarray(r.length,t.length-2),i=t.subarray(r.length+n.length),s=(0,We.R)(Uint8Array.of(...Fe,...r,...n),{dkLen:64}).subarray(0,2);return i[0]===s[0]&&i[1]===s[1]?{isValid:!0,ss58Format:ze(r),publicKey:n.slice()}:{isValid:!1}}catch(e){return{isValid:!1}}},ze=e=>{const t=new DataView(e.buffer,e.byteOffset,e.byteLength);return 1===t.byteLength?t.getUint8(0):t.getUint16(0)},Ke=e=>{const t=e<64?Uint8Array.of(e):Uint8Array.of((252&e)>>2|64,e>>8|(3&e)<<6);return e=>{const r=(0,We.R)(Uint8Array.of(...Fe,...t,...e),{dkLen:64}).subarray(0,2);return Ve.encode(Uint8Array.of(...t,...e,...r))}},Ge=(e=42,t=32)=>(0,u.hD)((0,u.Jj)(t),function(e,t){return t=>{const r=Ze(t);if(!r.isValid)throw new Error("Invalid checksum");const{publicKey:n}=r;if(n.length!==e)throw new Error("Invalid public key length");return n}}(t),Ke(e)),Je={dkLen:32},Qe=e=>(0,We.R)(e,Je),Ye={dkLen:16},et=e=>(0,We.R)(e,Ye),tt=e=>i(et(e),e),rt=e=>e,nt=(e,t,r,n)=>new DataView(new Uint16Array([e,t,r,n]).buffer).getBigUint64(0,!0),it=2n**64n-1n,st=(e,t)=>e<<t&it|e>>64n-t,at=(e,t)=>e*t&it,ot=(e,t)=>e+t&it,ct=11400714785074694791n,ut=14029467366897019727n,lt=1609587929392839161n,dt=9650029242287828579n,pt=2870177450012600261n;function ht(e,t=0n){let r,n=ot(ot(t,ct),ut),i=ot(t,ut),s=t,a=t-ct,o=e.length,c=0,u=null;!function(){let t=0,r=t+o;if(o){if(u=new Uint8Array(32),o<32)return u.set(e.subarray(0,o),c),void(c+=o);if(t<=r-32){const o=r-32;do{let r;r=nt(e[t+1]<<8|e[t],e[t+3]<<8|e[t+2],e[t+5]<<8|e[t+4],e[t+7]<<8|e[t+6]),n=at(st(ot(n,at(r,ut)),31n),ct),t+=8,r=nt(e[t+1]<<8|e[t],e[t+3]<<8|e[t+2],e[t+5]<<8|e[t+4],e[t+7]<<8|e[t+6]),i=at(st(ot(i,at(r,ut)),31n),ct),t+=8,r=nt(e[t+1]<<8|e[t],e[t+3]<<8|e[t+2],e[t+5]<<8|e[t+4],e[t+7]<<8|e[t+6]),s=at(st(ot(s,at(r,ut)),31n),ct),t+=8,r=nt(e[t+1]<<8|e[t],e[t+3]<<8|e[t+2],e[t+5]<<8|e[t+4],e[t+7]<<8|e[t+6]),a=at(st(ot(a,at(r,ut)),31n),ct),t+=8}while(t<=o)}t<r&&(u.set(e.subarray(t,r),c),c=r-t)}}(),e=u||e;let l=0;for(o>=32?(r=st(n,1n),r=ot(r,st(i,7n)),r=ot(r,st(s,12n)),r=ot(r,st(a,18n)),n=at(st(at(n,ut),31n),ct),r^=n,r=ot(at(r,ct),dt),i=at(st(at(i,ut),31n),ct),r^=i,r=ot(at(r,ct),dt),s=at(st(at(s,ut),31n),ct),r^=s,r=ot(at(r,ct),dt),a=at(st(at(a,ut),31n),ct),r^=a,r=ot(at(r,ct),dt)):r=ot(t,pt),r=ot(r,BigInt(o));l<=c-8;){let t=nt(e[l+1]<<8|e[l],e[l+3]<<8|e[l+2],e[l+5]<<8|e[l+4],e[l+7]<<8|e[l+6]);t=at(st(at(t,ut),31n),ct),r=ot(at(st(r^t,27n),ct),dt),l+=8}if(l+4<=c){let t=at(nt(e[l+1]<<8|e[l],e[l+3]<<8|e[l+2],0,0),ct);r=ot(at(st(r^t,23n),ut),lt),l+=4}for(;l<c;){const t=at(nt(e[l++],0,0,0),pt);r=at(st(r^t,11n),ct)}let d=r>>33n;return r=at(r^d,ut),d=r>>29n,r=at(r^d,lt),d=r>>32n,r^=d,r}const gt=e=>{const t=new Uint8Array(16),r=new DataView(t.buffer);return r.setBigUint64(0,ht(e),!0),r.setBigUint64(8,ht(e,1n),!0),t},yt=e=>{const t=new Uint8Array(32),r=new DataView(t.buffer);return r.setBigUint64(0,ht(e),!0),r.setBigUint64(8,ht(e,1n),!0),r.setBigUint64(16,ht(e,2n),!0),r.setBigUint64(24,ht(e,3n),!0),t},mt=e=>i(u.AW.enc(ht(e)),e),ft=new TextEncoder,_t=new Map([[rt,0],[mt,8],[tt,16],[et,-16],[Qe,-32],[gt,-16],[yt,-32]]),vt=e=>{const t=gt(ft.encode(e));return(r,...n)=>{const s=i(t,gt(ft.encode(r))),a=D(s),o=n.map((([{enc:e},t])=>r=>t(e(r))));return{enc:(...e)=>D(i(s,...e.map(((e,t)=>o[t](e))))),dec:t=>{if(!t.startsWith(a))throw new Error(`key does not match this storage (${e}.${r})`);if(0===n.length)return[];const i=N(t.slice(a.length)),s=new Array(n.length);for(let e=0,t=0;e<n.length;e++){const[r,a]=n[e],o=_t.get(a);if(null==o)throw new Error("Unknown hasher");if(o<0){const r=-1*o;s[e]=D(i.slice(t,t+r)),t+=r}else t+=o,s[e]=r.dec(i.slice(t)),t+=r.enc(s[e]).length}return s}}}};var wt,bt,xt,kt,Et,St=Object.defineProperty,qt=e=>{throw TypeError(e)},Ut=(e,t,r)=>((e,t,r)=>t in e?St(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),At=(e,t,r)=>t.has(e)||qt("Cannot "+r),It=(e,t,r)=>(At(e,t,"read from private field"),r?r.call(e):t.get(e)),Tt=(e,t,r)=>t.has(e)?qt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ct=(e,t,r,n)=>(At(e,t,"write to private field"),t.set(e,r),r);const Rt=new TextEncoder,Mt=new TextDecoder,Bt=(0,u.ps)(u.oA,(0,u.Jj)(1/0))[1];class Pt{constructor(e,t=!1){if(Tt(this,wt),Tt(this,bt,null),Tt(this,xt,null),Tt(this,kt,null),Tt(this,Et,null),Ut(this,"asText",(()=>It(this,Et)??Ct(this,Et,Mt.decode(It(this,wt))))),Ut(this,"asHex",(()=>It(this,xt)||Ct(this,xt,D(It(this,wt))))),Ut(this,"asOpaqueHex",(()=>It(this,kt)||Ct(this,kt,D(this.asBytes())))),Ut(this,"asBytes",(()=>It(this,wt))),Ut(this,"asOpaqueBytes",(()=>It(this,bt)||Ct(this,bt,i(u.oA[0](It(this,wt).length),It(this,wt))))),t){try{const[t,r]=Bt(e);if(t===r.length)return Ct(this,wt,r),void Ct(this,bt,e)}catch(e){}throw new Error("Invalid opaque bytes")}Ct(this,wt,e)}static fromText(e){return new this(Rt.encode(e))}static fromHex(e){return new this(N(e))}static fromOpaqueHex(e){return new this(N(e),!0)}static fromBytes(e){return new this(e)}static fromOpaqueBytes(e){return new this(e,!0)}}wt=new WeakMap,bt=new WeakMap,xt=new WeakMap,kt=new WeakMap,Et=new WeakMap;const[Ht]=Ge();class Ot extends Pt{constructor(e){super(e)}static fromArray(e){return new this(new Uint8Array(e))}static fromAccountId32(e){return new this(Ht(e))}}const Dt=e=>{const t=u.Jj.enc(e);return e=>t(e.asBytes())},Vt=e=>{const t=u.Jj.dec(e),r=null==e?Pt:Ot;return e=>r.fromBytes(t(e))},Nt=e=>(0,u.VG)(Dt(e),Vt(e));Nt.enc=Dt,Nt.dec=Vt;const $t=(0,u.UF)((e=>{const t=l.dec(e),r=Math.ceil(t/8);return{bytes:(0,u.Jj)(r).dec(e),bitsLen:t}})),Xt=(0,u.VG)((e=>{if(e.bitsLen>8*e.bytes.length)throw new Error(`Not enough bytes. (bitsLen:${e.bitsLen}, bytesLen:${e.bytes.length})`);const t=l.enc(e.bitsLen),r=new Uint8Array(e.bytes.length+t.length);return r.set(t,0),r.set(e.bytes,t.length),r}),$t),Lt=(0,u.hD)(u.u8,(e=>e.charCodeAt(0)),String.fromCharCode),jt=new TextEncoder,Wt=new TextDecoder,Ft=e=>(0,u.hD)((0,u.Jj)(e),(e=>jt.encode(e)),(e=>Wt.decode(e))),Zt=e=>{let t=r=>{const n=e();return t=n,n(r)};return e=>t(e)},zt=e=>{let t=r=>{const n=e();return t=n,n(r)};return e=>t(e)},Kt=e=>(0,u.VG)(Zt((()=>e().enc)),zt((()=>e().dec)));function Gt(e,t){return Object.fromEntries(Object.entries(e).map((([e,r])=>[e,t(r,e)])))}const Jt={is:(e,t)=>e.type===t,as(e,t){if(t!==e.type)throw new Error(`Enum.as(enum, ${t}) used with actual type ${e.type}`);return e}},Qt=Object.assign(((e,t)=>({type:e,value:t})),Jt),Yt=new Proxy({},{get:(e,t)=>e=>Qt(t,e)}),er=(...e)=>{const t=u.xs.enc(...e);return e=>t({tag:e.type,value:e.value})},tr=(...e)=>{const t=u.xs.dec(...e);return e=>{const{tag:r,value:n}=t(e);return Qt(r,n)}},rr=(e,...t)=>(0,u.VG)(er(Gt(e,(([e])=>e)),...t),tr(Gt(e,(([,e])=>e)),...t));rr.enc=er,rr.dec=tr;var nr=r(48796);const ir=e=>{const t=e.slice(2),r=D((0,nr.fr)(t)).slice(2),n=new Array(40);for(let e=0;e<40;e++){const i=parseInt(r[e],16),s=t[e];n[e]=i>7?s.toUpperCase():s}return`0x${n.join("")}`},sr=(0,u.Jj)(20)[1],ar=(0,u.VG)((e=>{const t=N(e);if(20!==t.length)throw new Error(`Invalid length found on EthAddress(${e})`);const r=D(t);if(e===r||e===r.toUpperCase())return t;if(ir(r)!==e)throw new Error(`Invalid checksum found on EthAddress(${e})`);return t}),(0,u.UF)((e=>ir(D(sr(e)))))),or=new TextEncoder,cr=new TextDecoder,ur=(0,u.hD)((0,u.Jj)(4),or.encode.bind(or),cr.decode.bind(cr)),lr=(0,u.AU)({engine:ur,payload:L()}),dr=rr({consensus:lr,seal:lr,preRuntime:lr,runtimeUpdated:u.R9},[4,5,6,8]),pr=L(32),hr=(0,u.AU)({parentHash:pr,number:l,stateRoot:pr,extrinsicRoot:pr,digests:(0,u.OW)(dr)}),gr=Pt.fromText("modlpy/utilisuba").asBytes(),yr=({threshold:e,signatories:t})=>{const r=mr(t),n=i(gr,u.oA.enc(r.length),...r,u.KB.enc(e));return Qe(n)},mr=e=>e.slice().sort(((e,t)=>{for(let r=0;;r++){const n=r>=e.length,i=r>=t.length;if(n&&i)return 0;if(n)return-1;if(i)return 1;if(e[r]!==t[r])return e[r]>t[r]?1:-1}})),fr=Nt(),_r=u.VG(u.oA[0],u.sv(u.oA[1],BigInt)),vr=(wr=(e,t,r,i)=>{if("primitive"===e.type)return n[e.value];if("void"===e.type)return u.R9;if("AccountId32"===e.type)return i;if("AccountId20"===e.type)return ar;if("compact"===e.type)return e.isBig?_r:u.oA;if("bitSequence"===e.type)return Xt;const s=e=>vr(e,t,r,i),a=(e,t)=>{const r=s(e);return t?u.OW(r,t):u.OW(r)},o=e=>u.ps(...e.map(s)),c=e=>{const t=Object.fromEntries(Object.entries(e).map((([e,t])=>[e,s(t)])));return u.AU(t)};if("sequence"===e.type&&"primitive"===e.value.type&&"u8"===e.value.value)return fr;if("array"===e.type)return"primitive"===e.value.type&&"u8"===e.value.value?Nt(e.len):a(e.value,e.len);if("sequence"===e.type)return a(e.value);if("tuple"===e.type)return o(e.value);if("struct"===e.type)return c(e.value);if("option"===e.type)return u.Wx(s(e.value));if("result"===e.type)return u.x4(s(e.value.ok),s(e.value.ko));const l=Object.values(e.value).map((e=>{switch(e.type){case"void":return u.R9;case"lookupEntry":return s(e.value);case"tuple":return o(e.value);case"struct":return c(e.value);case"array":return a(e.value,e.len)}})),d=Object.fromEntries(Object.keys(e.value).map(((e,t)=>[e,l[t]]))),p=Object.values(e.value).map((e=>e.idx)),h=p.every(((e,t)=>e===t))?rr(d):rr(d,p);return e.byteLength?Er(h,e.byteLength):h},br=Kt,xr=e=>e,(e,t,r,...n)=>{const{id:i}=e;if(t.has(i))return t.get(i);if(r.has(i)){const r=br((()=>t.get(i)),e,...n);return t.set(i,r),r}r.add(i);let s=wr(e,t,r,...n);return r.delete(i),t.has(i)&&(s=xr(s,t.get(i),e,...n)),t.set(i,s),s});var wr,br,xr;const kr=(e,t=Ge())=>{const r=new Map;return n=>(n=>vr(e(n),r,new Set,t))(n)},Er=(e,t)=>{const r=u.Jj(t);return u.VG((t=>r.enc(e.enc(t))),(t=>e.dec(r.dec(t))))},Sr=(e,t)=>"array"===e.type&&e.len===t&&"primitive"===e.value.type&&"u8"===e.value.value,qr={type:"void"},Ur=(e,t=(()=>null))=>{const r=new Map,n=new Set;let i=!0,s=!0;const a=u=>{let l=r.get(u);if(l)return l;if(n.has(u)){const e={id:u};return r.set(u,e),e}n.add(u);const d=(r=>{const n=t(e[r]);if(n)return n;const{def:u,path:l,params:d}=e[r];if("composite"===u.tag){if(0===u.value.length)return qr;if(1===u.value.length){const e=a(u.value[0].type);return i&&"AccountId32"===l.at(-1)&&Sr(e,32)?(i=!1,{type:"AccountId32"}):s&&"AccountId20"===l.at(-1)&&Sr(e,20)?(s=!1,{type:"AccountId20"}):e}return o(u.value)}if("variant"===u.tag){if(1===l.length&&"Option"===l[0]&&1===d.length&&"T"===d[0].name){const e=a(d[0].type);return"void"===e.type?{type:"primitive",value:"bool"}:{type:"option",value:e}}if(1===l.length&&"Result"===l[0]&&2===d.length&&"T"===d[0].name&&"E"===d[1].name)return{type:"result",value:{ok:a(d[0].type),ko:a(d[1].type)}};if(0===u.value.length)return qr;const e={},t={};return u.value.forEach((r=>{const n=r.name;t[n]=r.docs,0!==r.fields.length?1!==r.fields.length||r.fields[0].name?e[n]={...o(r.fields),idx:r.index}:e[n]={type:"lookupEntry",value:a(r.fields[0].type),idx:r.index}:e[n]={...qr,idx:r.index}})),{type:"enum",value:e,innerDocs:t}}if("sequence"===u.tag)return{type:"sequence",value:a(u.value)};if("array"===u.tag){const{len:e}=u.value,t=a(u.value.type);return e&&"void"!==t.type?e>1?{type:"array",value:t,len:u.value.len}:t:qr}if("tuple"===u.tag)return 0===u.value.length?qr:u.value.length>1?c(u.value.map((e=>a(e))),u.value.map((t=>e[t].docs))):a(u.value[0]);if("primitive"===u.tag)return{type:"primitive",value:u.value.tag};if("compact"===u.tag){const e=a(u.value);return"void"===e.type?qr:{type:"compact",isBig:Number(e.value.slice(1))>32,size:e.value}}return{type:u.tag}})(u);return l=r.get(u),l?Object.assign(l,d):(l={id:u,...d},r.set(u,l)),n.delete(u),l},o=e=>{let t=!0;const r={},n={};return e.forEach(((e,i)=>{t=t&&!!e.name;const s=e.name||i,o=a(e.type);"void"!==o.type&&(r[s]=o,n[s]=e.docs)})),t?{type:"struct",value:r,innerDocs:n}:c(Object.values(r),Object.values(n))},c=(e,t)=>{if(e.every((t=>t.id===e[0].id))&&t.every((e=>!e.length))){const[t]=e;return"void"===t.type?qr:{type:"array",value:e[0],len:e.length}}return{type:"tuple",value:e,innerDocs:t}};return a},Ar=(e,t,r)=>{if(null!=r&&r!==t)throw new Error(`${e} not expected. Received ${r} expected ${t}`)},Ir=(e,{decimals:t,tokenSymbol:r,...i})=>{const s=(e=>{try{const{metadata:t}=le(e);if("v15"!==t.tag)throw new Error("Wrong metadata version");return t.value}catch(e){throw e||new Error("Unable to decode metadata")}})(e),{ss58Prefix:a,buildDefinition:c}=(e=>{const{metadata:t}=e;let r=kr(e);const i=t.pallets.find((e=>"System"===e.name))?.constants.find((e=>"SS58Prefix"===e.name));let s;if(i)try{const t=r(i.type).dec(i.value);"number"==typeof t&&(s=t,r=kr(e,Ge(t)))}catch(e){}const a=new Map,o=e=>{switch(e.type){case"void":return u.R9;case"lookupEntry":return r(e.value.id);case"tuple":return u.ps(...Object.values(e.value).map((e=>r(e.id))));case"struct":return u.AU(Gt(e.value,(e=>r(e.id))));case"array":return u.OW(r(e.value.id),e.len)}},c=r=>(n,i)=>{const s=t.pallets.find((e=>e.name===n)),a=e(s[r]);if("enum"!==a.type)throw null;const c=a.value[i];return{location:[s.index,c.idx],codec:o(a.value[i])}};return{buildDefinition:r,buildStorage:(i,s)=>{let o=a.get(i);o||a.set(i,o=vt(i));const c=t.pallets.find((e=>e.name===i)).storage.items.find((e=>e.name===s)),u=(e,t,...r)=>({keys:o(...r),value:t,len:e,fallback:1===c.modifier?t.dec(c.fallback):void 0});if("plain"===c.type.tag)return u(0,r(c.type.value),s);const{key:l,value:d,hashers:p}=c.type.value,h=r(d),g=p.map((e=>n[e.tag])),y=(()=>{if(1===g.length)return[[r(l),g[0]]];const t=e(l);switch(t.type){case"array":return g.map((e=>[r(t.value.id),e]));case"tuple":return t.value.map(((e,t)=>[r(e.id),g[t]]));default:throw new Error("Invalid key type")}})();return u(g.length,h,s,...y)},buildEvent:c("events"),buildError:c("errors"),buildRuntimeCall:(e,n)=>{const i=t.apis.find((t=>t.name===e))?.methods.find((e=>e.name===n));if(!i)throw null;return{args:u.ps(...i.inputs.map((e=>r(e.type)))),value:r(i.output)}},buildCall:c("calls"),buildConstant:(e,n)=>{const i=t.pallets.find((t=>t.name===e)).constants.find((e=>e.name===n));return r(i.type)},ss58Prefix:s}})((e=>{const t=Ur(e.lookup,(({def:r})=>{if("composite"===r.tag){const n=function(e){if(2!==e.value.length||"index"!==e.value[0].name||"error"!==e.value[1].name)return null;const r=t(e.value[0].type),n=t(e.value[1].type);return"primitive"===r.type&&"u8"===r.value&&"array"===n.type&&"primitive"===n.value.type&&"u8"===n.value.value?1+n.len:null}(r);if(n)return{type:"enum",innerDocs:{},value:Object.fromEntries(e.pallets.map((e=>[e.name,null==e.errors?{...qr,idx:e.index}:{type:"lookupEntry",value:t(e.errors),idx:e.index}]))),byteLength:n}}return null}));return Object.assign(t,{metadata:e,call:(()=>{if("outerEnums"in e)return e.outerEnums.call;const t=e.lookup[e.extrinsic?.type],r=t?.params.find((e=>"Call"===e.name));return r?.type??null})()})})(s));if(null==a)throw new Error("SS58 prefix not found in metadata");Ar("SS58 prefix",a,i.base58Prefix);const l=s.pallets.find((e=>"System"===e.name))?.constants.find((e=>"Version"===e.name));if(null==l)throw new Error("System.Version constant not found");const{spec_name:d,spec_version:p}=c(l.type).dec(l.value);if("string"!=typeof d||"number"!=typeof p)throw new Error("Spec name or spec version not found");Ar("Spec name",d,i.specName),Ar("Spec version",p,i.specVersion);const g={decimals:t,tokenSymbol:r,specVersion:p,specName:d,base58Prefix:a},m=new Map(s.lookup.map((e=>[e.id,e]))),f=((e,t)=>{const r=new Set,n=e=>{if(r.has(e))return;const{tag:i,value:s}=t.get(e).def;switch(i){case"composite":if(!s.length)break;r.add(e),s.forEach((({type:e})=>{n(e)}));break;case"variant":if(!s.length)break;r.add(e),s.forEach((({fields:e})=>{e.forEach((({type:e})=>{n(e)}))}));break;case"tuple":if(!s.length)break;r.add(e),s.forEach(n);break;case"sequence":r.add(e),n(s);break;case"array":r.add(e),n(s.type);break;case"bitSequence":r.add(e)}};n(e.extrinsic.call),n(e.extrinsic.address),n(e.extrinsic.signature),e.extrinsic.signedExtensions.forEach((({type:e,additionalSigned:t})=>{n(e),n(t)}));const i=[...r].sort(((e,t)=>e-t));return new Map(i.map(((e,t)=>[e,t])))})(s,m),_=e=>{const{def:{tag:t,value:r}}=m.get(e);if("primitive"===t)return r.tag;if("composite"!==t&&"tuple"!==t||r.length>1)throw new Error("The provided definition doesn't map to a primitive");return 0===r.length?null:_("tuple"===t?r[0]:r[0].type)},w=e=>{const{def:t}=m.get(e);if("primitive"===t.tag)return{tag:t.value.tag,value:void 0};if("compact"===t.tag){const e=_(t.value),r=he[e];if(!r)throw new Error("Invalid primitive for Compact");return{tag:r,value:void 0}}return f.has(e)?{tag:"perId",value:f.get(e)}:{tag:"void",value:void 0}},x={version:s.extrinsic.version,addressTy:w(s.extrinsic.address),callTy:w(s.extrinsic.call),signatureTy:w(s.extrinsic.signature),signedExtensions:s.extrinsic.signedExtensions.map((e=>({identifier:e.identifier,includedInExtrinsic:w(e.type),includedInSignedData:w(e.additionalSigned)})))},S=((e,t,r,n)=>{const i=[];return[...t.entries()].forEach((([t,s])=>{const{path:a}=e.get(t);((e,t,r,n)=>{const{def:{tag:i,value:s}}=e.get(n);switch(i){case"composite":return[{tag:i,value:s.map((e=>({name:e.name,typeName:e.typeName,ty:t(e.type)})))}];case"variant":return s.map((e=>({tag:"enumeration",value:{name:e.name,index:e.index,fields:e.fields.map((e=>({name:e.name,typeName:e.typeName,ty:t(e.type)})))}})));case"sequence":return[{tag:i,value:t(s)}];case"array":return[{tag:i,value:{len:s.len,typeParam:t(s.type)}}];case"tuple":return[{tag:i,value:s.map(t)}];case"bitSequence":{const t=r(s.bitStoreType),n=E[t];if(!n)throw new Error("Invalid primitive for BitSequence");const i=e.get(s.bitOrderType).path,a=i.includes("Lsb0");if(!a&&!i.includes("Msb0"))throw new Error("BitOrderType not recognized");return[{tag:"bitSequence",value:{numBytes:n,leastSignificantBitFirst:a}}]}}throw new Error(`FrameId(${n}) should have been filtered out`)})(e,r,n,t).forEach((e=>{i.push({path:a,typeId:s,typeDef:e})}))})),i.sort(((e,t)=>{if(e.typeId!==t.typeId)return e.typeId-t.typeId;if("enumeration"!==e.typeDef.tag||"enumeration"!==t.typeDef.tag)throw new Error("Found two types with same id");return e.typeDef.value.index-t.typeDef.value.index})),i})(m,f,w,_),q=S.map(v.enc);let U;const A=()=>{if(U)return U;if(!q.length)return U=[new Uint8Array(32).fill(0)];U=new Array(2*q.length-1);let e=q.length-1;for(let t=0;t<q.length;t++)U[e+t]=o(q[t]);for(let e=U.length-2;e>0;e-=2)U[(e-1)/2]=o(de([U[e],U[e+1]]));return U};let I;const T=e=>{const t=function(e,t){const r=t.map((t=>e[t])),n=e.length-1,i=t.map((e=>n+e)),s=[];if(i.length){const e=fe(i.at(-1)),t=Math.pow(2,e)-1,n=i.findIndex((e=>e>=t));n>0&&(i.unshift(...i.splice(n)),r.unshift(...r.splice(n)))}let a=0;const o=e=>{if(a===i.length)return void s.push(e);const t=i[a];if(t===e)return void++a;const r=fe(e);if(e!==(t+1>>fe(t)-r)-1)return void s.push(e);const n=2*e+1;o(n),o(n+1)};return o(0),{leaves:r,leafIdxs:i,proofIdxs:s}}(q,e),r=A(),n=t.proofIdxs.map((e=>r[e]));return de([u.oA.enc(t.leaves.length),...t.leaves,u.oA.enc(t.leafIdxs.length),...t.leafIdxs.map((e=>u.Jq.enc(e))),u.oA.enc(n.length),...n,b.enc(x),h.enc(g)])},C=e=>{const t=[x.callTy,...x.signedExtensions.map((e=>e.includedInExtrinsic)),...x.signedExtensions.map((e=>e.includedInSignedData))];return T(me(e,t,S))};return{digest:()=>{if(I)return I;const e={tag:"V1",value:{typeInformationTreeRoot:A()[0],extrinsicMetadataHash:o(b.enc(x)),...g}};return I=o(y.enc(e))},getProofForExtrinsic:(e,t)=>{let[,{version:r,signed:n},i]=k(e);if(r!==x.version)throw new Error("Incorrect extrinsic version");const s=n?[x.addressTy,x.signatureTy,...x.signedExtensions.map((e=>e.includedInExtrinsic)),x.callTy]:[x.callTy];return t&&(i=de([i,pe(t)]),s.push(...x.signedExtensions.map((e=>e.includedInSignedData)))),T(me(i,s,S))},getProofForExtrinsicParts:(e,t,r)=>{const n=de([e,t,r].map(pe));return C(n)},getProofForExtrinsicPayload:C}}},98083:(e,t,r)=>{r.d(t,{P:()=>N});var n=r(35562),i=r(37602),s=r(23601),a=r(4615),o=r(65968),c=r(54371),u=r(69543),l=r(48731),d=r(11147),p=r(82671),h=r(1346),g=r(6485),y=r(84789),m=r(55858),f=r(88311),_=r(51330),v=r(59003),w=r(33403);function b(e){return e.map((e=>(0,w.Z)({},e,{name:Array.isArray(e.name)?e.name:[e.name]})))}function x(e,t){if(!t.metadataVersion.length)throw new Error("Invalid format for V0 (detected) contract metadata");return e.createType("ContractMetadataV1",(0,w.Z)({},t,{spec:(0,w.Z)({},t.spec,{constructors:b(t.spec.constructors),messages:b(t.spec.messages)}),types:(0,v.t)(e,t.types)}))}const k={ContractConstructorSpec:"ContractMessageParamSpecV2",ContractEventSpec:"ContractEventParamSpecV2",ContractMessageSpec:"ContractMessageParamSpecV2"};function E(e){return(0,w.Z)({},e,{label:Array.isArray(e.name)?e.name.join("::"):e.name})}function S(e,t,r){return r.map((r=>e.createType(`${t}V2`,(0,w.Z)(E(r),{args:r.args.map((r=>e.createType(k[t],E(r))))}))))}function q(e,t){return e.createType("ContractMetadataV2",(0,w.Z)({},t,{spec:(0,w.Z)({},t.spec,{constructors:S(e,"ContractConstructorSpec",t.spec.constructors),events:S(e,"ContractEventSpec",t.spec.events),messages:S(e,"ContractMessageSpec",t.spec.messages)})}))}function U(e,t){return e.createType("ContractMetadataV3",(0,w.Z)({},t,{spec:(0,w.Z)({},t.spec,{constructors:t.spec.constructors.map((t=>e.createType("ContractConstructorSpecV3",(0,w.Z)({},t,{payable:!0}))))})}))}function A(e,t){return e.createType("ContractMetadataV4",(0,w.Z)({},t,{spec:(0,w.Z)({},t.spec,{constructors:t.spec.constructors.map((t=>e.createType("ContractConstructorSpecV4",(0,w.Z)({},t)))),messages:t.spec.messages.map((t=>e.createType("ContractMessageSpecV3",(0,w.Z)({},t))))}),version:e.createType("Text","4")}))}const I=["V5","V4","V3","V2","V1"];function T(e,t){return(r,n)=>e(r,t(r,n))}function C(e,t){return t}const R=T(C,A),M=T(R,U),B=T(M,q),P=[["V5",function(e,t){return t}],["V4",C],["V3",R],["V2",M],["V1",B],["V0",T(B,x)]],H=(0,a.k)("Abi"),O=["AccountId","AccountIndex","Address","Balance"];function D(e,t){const r=(0,o.h)(t)?e[t]:(0,c.H)(t)?e.find((({identifier:e})=>[e,(0,u.yZ)(e)].includes(t.toString()))):t;return(0,l.k8)(r,(()=>`Attempted to call an invalid contract interface, ${(0,d.P)(t)}`))}function V(e){return!!e&&e instanceof Map&&!(0,h.o)(e.type)&&!(0,h.o)(e.displayName)}class N{events;constructors;info;json;messages;metadata;registry;environment=new Map;constructor(e,t){[this.json,this.registry,this.metadata,this.info]=function(e,t){const r=new n.P,i=r.createType("ContractProjectInfo",e),s=function(e,t){const r=I.find((e=>(0,p.K)(t[e]))),n=t.version;if(!r&&n&&!I.find((e=>e===`V${n}`)))throw new Error(`Unable to handle version ${n}`);const i=e.createType("ContractMetadata",r?{[r]:t[r]}:n?{[`V${n}`]:t}:{V0:t}),s=P.find((([e])=>i[`is${e}`]));if(!s)throw new Error(`Unable to convert ABI with version ${i.type} to a supported version`);return s[1](e,i[`as${s[0]}`])}(r,e),a=r.createType("PortableRegistry",{types:s.types},!0);return r.setLookup(a),t&&r.setChainProperties(t),a.types.forEach((({id:e})=>a.getTypeDef(e))),[e,r,s,i]}((0,c.H)(e)?JSON.parse(e):e,t),this.constructors=this.metadata.spec.constructors.map(((e,t)=>this.__internal__createMessage(e,t,{isConstructor:!0,isDefault:e.default.isTrue,isPayable:e.payable.isTrue,returnType:e.returnType.isSome?this.registry.lookup.getTypeDef(e.returnType.unwrap().type):null}))),this.events=this.metadata.spec.events.map(((e,t)=>this.__internal__createEvent(t))),this.messages=this.metadata.spec.messages.map(((e,t)=>this.__internal__createMessage(e,t,{isDefault:e.default.isTrue,isMutating:e.mutates.isTrue,isPayable:e.payable.isTrue,returnType:e.returnType.isSome?this.registry.lookup.getTypeDef(e.returnType.unwrap().type):null})));for(const[e,t]of this.metadata.spec.environment.entries()){if(!((r=t)&&r instanceof i.W))throw new Error(`Expected Option<*> definition for ${e} in ContractEnvironment`);if(t.isSome){const r=t.unwrap();if((0,g.H)(r))this.environment.set(e,r);else{if(!V(r))throw new Error(`Invalid environment definition for ${e}:: Expected either Number or ContractTypeSpec`);this.environment.set(e,this.registry.lookup.getTypeDef(r.type))}}}var r}decodeEvent(e){return"4"===this.metadata.version.toString()?this.__internal__decodeEventV4(e):this.__internal__decodeEventV5(e)}__internal__decodeEventV5=e=>{const t=e.topics[0],r=e.event.data[1];if(t){const e=this.events.find((e=>void 0!==e.signatureTopic&&null!==e.signatureTopic&&e.signatureTopic===t.toHex()));if(e)return e.fromU8a(r)}const n=e.topics.length,i=this.events.filter((e=>(null===e.signatureTopic||void 0===e.signatureTopic)&&e.args.filter((e=>e.indexed)).length===n));if(1===i.length)return i[0].fromU8a(r);throw new Error("Unable to determine event")};__internal__decodeEventV4=e=>{const t=e.event.data[1],r=t[0],n=this.events[r];if(!n)throw new Error(`Unable to find event with index ${r}`);return n.fromU8a(t.subarray(1))};decodeConstructor(e){return this.__internal__decodeMessage("message",this.constructors,e)}decodeMessage(e){return this.__internal__decodeMessage("message",this.messages,e)}findConstructor(e){return D(this.constructors,e)}findMessage(e){return D(this.messages,e)}__internal__createArgs=(e,t)=>e.map((({label:e,type:r},n)=>{try{if(!(0,p.K)(r))throw new Error("Invalid type definition found");const t=r.displayName.length?r.displayName[r.displayName.length-1].toString():void 0,n=(0,u.yZ)(e);if(t&&O.includes(t))return{name:n,type:{info:s.u.Plain,type:t}};const i=this.registry.lookup.getTypeDef(r.type);return{name:n,type:t&&!i.type.startsWith(t)?{displayName:t,...i}:i}}catch(e){throw H.error(`Error expanding argument ${n} in ${(0,d.P)(t)}`),e}}));__internal__createMessageParams=(e,t)=>this.__internal__createArgs(e,t);__internal__createEventParams=(e,t)=>this.__internal__createArgs(e,t).map(((t,r)=>({...t,indexed:e[r].indexed.toPrimitive()})));__internal__createEvent=e=>"4"===this.metadata.version.toString()?this.__internal__createEventV4(this.metadata.spec.events[e],e):this.__internal__createEventV5(this.metadata.spec.events[e],e);__internal__createEventV5=(e,t)=>{const r=this.__internal__createEventParams(e.args,e),n={args:r,docs:e.docs.map((e=>e.toString())),fromU8a:e=>({args:this.__internal__decodeArgs(r,e),event:n}),identifier:[e.module_path,e.label].join("::"),index:t,signatureTopic:e.signature_topic.isSome?e.signature_topic.unwrap().toHex():null};return n};__internal__createEventV4=(e,t)=>{const r=this.__internal__createEventParams(e.args,e),n={args:r,docs:e.docs.map((e=>e.toString())),fromU8a:e=>({args:this.__internal__decodeArgs(r,e),event:n}),identifier:e.label.toString(),index:t};return n};__internal__createMessage=(e,t,r={})=>{const n=this.__internal__createMessageParams(e.args,e),i=e.label.toString(),s={...r,args:n,docs:e.docs.map((e=>e.toString())),fromU8a:e=>({args:this.__internal__decodeArgs(n,e),message:s}),identifier:i,index:t,isDefault:e.default.isTrue,method:(0,u.yZ)(i),path:i.split("::").map((e=>(0,u.yZ)(e))),selector:e.selector,toU8a:t=>this.__internal__encodeMessageArgs(e,n,t)};return s};__internal__decodeArgs=(e,t)=>{let r=0;return e.map((({type:{lookupName:e,type:n}})=>{const i=this.registry.createType(e||n,t.subarray(r));return r+=i.encodedLength,i}))};__internal__decodeMessage=(e,t,r)=>{const[,n]=(0,y.o)(r),i=n.subarray(0,4),s=t.find((e=>e.selector.eq(i)));if(!s)throw new Error(`Unable to find ${e} with selector ${(0,m.c)(i)}`);return s.fromU8a(n.subarray(4))};__internal__encodeMessageArgs=({label:e,selector:t},r,n)=>{if(n.length!==r.length)throw new Error(`Expected ${r.length} arguments to contract message '${e.toString()}', found ${n.length}`);return(0,f.N)((0,_.e)(this.registry.createType("ContractSelector",t).toU8a(),...r.map((({type:{lookupName:e,type:t}},r)=>this.registry.createType(e||t,n[r]).toU8a()))))}}},75768:(e,t,r)=>{r.d(t,{b8:()=>P,wi:()=>H,vM:()=>O});var n=r(10589),i=r(89492),s=r(1346),a=r(95292);function o(e,t,r){if(e.isInBlock||e.isFinalized){const n=e.filterRecords("contracts",t);if(n.length)return r(n)}}var c=r(33661),u=r(98083);class l{abi;api;_decorateMethod;_isWeightV1;constructor(e,t,r){if(!(e&&e.isConnected&&e.tx))throw new Error("Your API has not been initialized correctly and is not connected to a chain");if(!e.tx.contracts||!(0,c.m)(e.tx.contracts.instantiateWithCode)||6!==e.tx.contracts.instantiateWithCode.meta.args.length)throw new Error("The runtime does not expose api.tx.contracts.instantiateWithCode with storageDepositLimit");if(!e.call.contractsApi||!(0,c.m)(e.call.contractsApi.call))throw new Error("Your runtime does not expose the api.call.contractsApi.call runtime interfaces");this.abi=t instanceof u.P?t:new u.P(t,e.registry.getChainProperties()),this.api=e,this._decorateMethod=r,this._isWeightV1=!e.registry.createType("Weight").proofSize}get registry(){return this.api.registry}}var d=r(77984),p=r(48801),h=r(4615),g=r(66626),y=r(88311),m=r(46610),f=r(12372),_=r(52926);const v=new Uint8Array;function w(e,t){return t.meta=e,t}function b(e,t){return w(e,((e,...r)=>t(e,r)))}function x(e=(0,_.F)()){return e instanceof g.J?e:e?.length?(0,y.N)((0,m.Y)(e)):v}function k(e){const[t,r]=function(e){return!!e.proofSize}(e)?[e.refTime.toBn(),e.proofSize.toBn()]:[(0,f.G)(e),void 0];return{v1Weight:t,v2Weight:{proofSize:r,refTime:t}}}const E=new p(5e12).isub(a.If),S=(0,h.k)("Contract");class q extends i.h{contractEvents;constructor(e,t){super(e),this.contractEvents=t}}class U extends l{address;__internal__query={};__internal__tx={};constructor(e,t,r,n){super(e,t,n),this.address=this.registry.createType("AccountId",r),this.abi.messages.forEach((e=>{var t;(0,s.o)(this.__internal__tx[e.method])&&(this.__internal__tx[e.method]=(t=(t,r)=>this.__internal__exec(e,t,r),w(e,((e,...r)=>t(e,r))))),(0,s.o)(this.__internal__query[e.method])&&(this.__internal__query[e.method]=function(e,t){return w(e,((e,r,...n)=>t(e,r,n)))}(e,((t,r,n)=>this.__internal__read(e,r,n).send(t))))}))}get query(){return this.__internal__query}get tx(){return this.__internal__tx}__internal__getGas=(e,t=!1)=>{const r=k(e);return r.v1Weight.gt(a.nw)?r:k(t?E:k(this.api.consts.system.blockWeights?this.api.consts.system.blockWeights.maxBlock:this.api.consts.system.maximumBlockWeight).v1Weight.muln(64).div(a.S8))};__internal__exec=(e,{gasLimit:t=a.nw,storageDepositLimit:r=null,value:n=a.nw},i)=>this.api.tx.contracts.call(this.address,n,this._isWeightV1?k(t).v1Weight:k(t).v2Weight,r,this.abi.findMessage(e).toU8a(i)).withResultTransform((e=>new q(e,o(e,["ContractEmitted","ContractExecution"],(e=>e.map((e=>{try{return this.abi.decodeEvent(e)}catch(e){return S.error(`Unable to decode contract event: ${e.message}`),null}})).filter((e=>!!e)))))));__internal__read=(e,{gasLimit:t=a.nw,storageDepositLimit:r=null,value:n=a.nw},i)=>{const s=this.abi.findMessage(e);return{send:this._decorateMethod((e=>this.api.rx.call.contractsApi.call(e,this.address,n,this._isWeightV1?this.__internal__getGas(t,!0).v1Weight:this.__internal__getGas(t,!0).v2Weight,r,s.toU8a(i)).pipe((0,d.U)((({debugMessage:e,gasConsumed:t,gasRequired:r,result:n,storageDeposit:i})=>({debugMessage:e,gasConsumed:t,gasRequired:r&&!k(r).v1Weight.isZero()?r:t,output:n.isOk&&s.returnType?this.abi.registry.createTypeUnsafe(s.returnType.lookupName||s.returnType.type,[n.asOk.data.toU8a(!0)],{isPedantic:!0}):null,result:n,storageDeposit:i}))))))}}}class A extends i.h{contract;constructor(e,t){super(e),this.contract=t}}class I extends l{codeHash;__internal__tx={};constructor(e,t,r,n){super(e,t,n),this.codeHash=this.registry.createType("Hash",r),this.abi.constructors.forEach((e=>{(0,s.o)(this.__internal__tx[e.method])&&(this.__internal__tx[e.method]=b(e,((t,r)=>this.__internal__deploy(e,t,r))))}))}get tx(){return this.__internal__tx}__internal__deploy=(e,{gasLimit:t=a.nw,salt:r,storageDepositLimit:n=null,value:i=a.nw},s)=>this.api.tx.contracts.instantiate(i,this._isWeightV1?k(t).v1Weight:k(t).v2Weight,n,this.codeHash,this.abi.findConstructor(e).toU8a(s),x(r)).withResultTransform((e=>new A(e,o(e,["Instantiated"],(([e])=>new U(this.api,this.abi,e.event.data[1],this._decorateMethod))))))}var T=r(6226),C=r(25553);class R extends i.h{blueprint;contract;constructor(e,t,r){super(e),this.blueprint=t,this.contract=r}}function M(e){return(0,T.F)(e)||(0,C.B)(e)}class B extends l{code;__internal__tx={};constructor(e,t,r,n){if(super(e,t,n),this.code=M(this.abi.info.source.wasm)?this.abi.info.source.wasm:(0,m.Y)(r),!M(this.code))throw new Error("Invalid code provided");this.abi.constructors.forEach((e=>{(0,s.o)(this.__internal__tx[e.method])&&(this.__internal__tx[e.method]=b(e,((t,r)=>this.__internal__instantiate(e,t,r))))}))}get tx(){return this.__internal__tx}__internal__instantiate=(e,{gasLimit:t=a.nw,salt:r,storageDepositLimit:n=null,value:i=a.nw},s)=>this.api.tx.contracts.instantiateWithCode(i,this._isWeightV1?k(t).v1Weight:k(t).v2Weight,n,(0,y.N)(this.code),this.abi.findConstructor(e).toU8a(s),x(r)).withResultTransform((e=>new R(e,...o(e,["CodeStored","Instantiated"],(e=>e.reduce((([e,t],{event:r})=>this.api.events.contracts.Instantiated.is(r)?[e,new U(this.api,this.abi,r.data[1],this._decorateMethod)]:this.api.events.contracts.CodeStored.is(r)?[new I(this.api,this.abi,r.data[0],this._decorateMethod),t]:[e,t]),[void 0,void 0])))||[void 0,void 0])))}class P extends I{constructor(e,t,r){super(e,t,r,n.x)}}class H extends B{constructor(e,t,r){super(e,t,r,n.x)}}class O extends U{constructor(e,t,r){super(e,t,r,n.x)}}},75274:(e,t,r)=>{r.d(t,{O:()=>n});const n=(0,r(16173).a)((e=>e.rpc.chain.subscribeNewHeads()))},60094:(e,t,r)=>{r.d(t,{b:()=>n});const n=(0,r(16173).a)((e=>e.rpc.chain.subscribeFinalizedHeads()))},23052:(e,t,r)=>{r.d(t,{f:()=>a});var n=r(43806),i=r(77984),s=r(44777);function a(e,t){return(0,s.X)(e,(()=>(0,n.a)([t.derive.chain.bestNumber(),t.derive.chain.bestNumberFinalized()]).pipe((0,i.U)((([e,r])=>t.registry.createType("BlockNumber",e.sub(r)))))))}},32166:(e,t,r)=>{r.d(t,{Q:()=>l});var n=r(43806),i=r(12335),s=r(35120),a=r(77984),o=r(69551),c=r(44777),u=r(16173);function l(e,t){return(0,c.X)(e,(e=>(0,n.a)([t.rpc.chain.getBlock(e),t.queryAt(e)]).pipe((0,i.w)((([r,i])=>(0,n.a)([(0,s.of)(r),i.system.events(),(0,u.w)(t,r.block.header,e)]))),(0,a.U)((([e,t,[,r,n]])=>function(e,t,r,n,i){const s=e.createClass("SignedBlock");return new class extends s{__internal__author;__internal__events;__internal__extrinsics;constructor(e,t,r,n,i){var s,a;super(e,t),this.__internal__author=i||(0,o.R)(this.block.header.digest,n||[]),this.__internal__events=r||[],this.__internal__extrinsics=(s=this.block.extrinsics,a=this.__internal__events,s.map(((e,t)=>{let r,n;const i=a.filter((({phase:e})=>e.isApplyExtrinsic&&e.asApplyExtrinsic.eq(t))).map((({event:e})=>("system"===e.section&&("ExtrinsicSuccess"===e.method?n=e.data[0]:"ExtrinsicFailed"===e.method&&(r=e.data[0],n=e.data[1])),e)));return{dispatchError:r,dispatchInfo:n,events:i,extrinsic:e}}))),this.createdAtHash=t?.createdAtHash}get author(){return this.__internal__author}get events(){return this.__internal__events}get extrinsics(){return this.__internal__extrinsics}}(e,t,r,n,i)}(t.registry,e,t,r,n))))))}},79490:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(12335),i=r(44777);function s(e,t){return(0,i.X)(e,(()=>t.derive.chain.subscribeNewHeads().pipe((0,n.w)((e=>t.derive.chain.getBlock(e.createdAtHash||e.hash))))))}},16173:(e,t,r)=>{r.d(t,{a:()=>l,w:()=>d});var n=r(77984),i=r(35120),s=r(43806),a=r(62355),o=r(12335),c=r(44777),u=r(44604);function l(e){return(t,r)=>(0,c.X)(t,(()=>e(r).pipe((0,n.U)(u.E))))}function d(e,t,r){return e.queryAt(t.parentHash.isEmpty?r||t.hash:t.parentHash).pipe((0,o.w)((e=>function(e,t){const r=t.session?.validators?t.session.validators():(0,i.of)(null),{logs:[o]}=e.digest,c=o&&(o.isConsensus&&o.asConsensus[0].isNimbus&&o.asConsensus[1]||o.isPreRuntime&&o.asPreRuntime[0].isNimbus&&o.asPreRuntime[1]);if(c){if(t.authorMapping?.mappingWithDeposit)return(0,s.a)([(0,i.of)(e),r,t.authorMapping.mappingWithDeposit(c).pipe((0,n.U)((e=>e.unwrapOr({account:null}).account)))]);if(t.parachainStaking?.selectedCandidates&&t.session?.nextKeys){const o=c.toHex();return(0,s.a)([(0,i.of)(e),r,t.parachainStaking.selectedCandidates().pipe((0,a.z)((e=>(0,s.a)([(0,i.of)(e),t.session.nextKeys.multi(e).pipe((0,n.U)((e=>e.findIndex((e=>e.unwrapOrDefault().nimbus.toHex()===o)))))]))),(0,n.U)((([e,t])=>-1===t?null:e[t])))])}}return(0,s.a)([(0,i.of)(e),r,(0,i.of)(null)])}(t,e))))}},15938:(e,t,r)=>{r.d(t,{Pc:()=>p,Uc:()=>m,hr:()=>y,lR:()=>g,pn:()=>h});var n=r(31283),i=r(48801),s=r(33403),a=r(54371),o=r(74076),c=r(54827),u=r(48358),l=r(55858);function d(e,t,r,n){for(;;){const i=e.div(t),s=r.div(n);if(i.lt(s))return!0;if(s.lt(i))return!1;const a=e.mod(t),o=r.mod(n);if(o.isZero())return!1;if(a.isZero())return!0;e=n,r=t,t=o,n=a}}function p(e,t,r){return e.isSimpleMajority?r.votedAye.gt(r.votedNay):function(e,t,{votedAye:r,votedNay:i,votedTotal:s}){const a=(0,n.D)(s);return!a.isZero()&&(e.isSuperMajorityApprove?d(i,a,r,t):d(i,t,r,a))}(e,t,r)}function h(e,t,r){const n=t.status.tally?function(e,t){const r=[],n=[];return t.forEach((e=>{e.vote.isAye?r.push(e):n.push(e)})),{allAye:r,allNay:n,voteCount:r.length+n.length,voteCountAye:r.length,voteCountNay:n.length,votedAye:e.ayes,votedNay:e.nays,votedTotal:e.turnout}}(t.status.tally,r):r.reduce(((e,t)=>{const{balance:r,vote:n}=t,i=0===n.conviction.index,s=r.muln(i?1:n.conviction.index).divn(i?10:1);return n.isAye?(e.allAye.push(t),e.voteCountAye++,e.votedAye.iadd(s)):(e.allNay.push(t),e.voteCountNay++,e.votedNay.iadd(s)),e.voteCount++,e.votedTotal.iadd(s),e}),{allAye:[],allNay:[],voteCount:0,voteCountAye:0,voteCountNay:0,votedAye:new i(0),votedNay:new i(0),votedTotal:new i(0)});return(0,s.Z)({},n,{isPassing:p(t.status.threshold,e,n),votes:r})}function g(e){if(e.isNone)return null;const t=e.unwrap();return function(e){return!!e.proposalHash}(t)?t:t.isOngoing?t.asOngoing:null}function y(e){return e.isLegacy?e.asLegacy.hash_.toHex():e.isLookup?e.asLookup.hash_.toHex():e.isInline?e.asInline.hash.toHex():(0,a.H)(e)?(0,o.vq)(e)?e:(0,c.$)(e):(0,u.U)(e)?(0,l.c)(e):e.toHex()}function m(e){return y(e.proposal||e.proposalHash)}},69551:(e,t,r)=>{function n(e,t){const[r]=e.logs.filter((e=>e.isConsensus)),[n]=e.logs.filter((e=>e.isPreRuntime)),[i]=e.logs.filter((e=>e.isSeal));let s;try{if(n){const[e,r]=n.asPreRuntime;s=e.extractAuthor(r,t)}if(!s&&r){const[e,n]=r.asConsensus;s=e.extractAuthor(n,t)}if(!s&&i){const[e,r]=i.asSeal;s=e.extractAuthor(r,t)}}catch{}return s}r.d(t,{R:()=>n})},44604:(e,t,r)=>{r.d(t,{E:()=>i});var n=r(57826);function i(e){return(0,n.f)(e.number)?e.number.unwrap():e.number}},36733:(e,t,r)=>{r.d(t,{G:()=>s,u:()=>a});var n=r(3919);const i=6048e5;let s;function a(e="",t){s=t?function(e,t){return{del:r=>t.del(`${e}${r}`),forEach:t.forEach,get:r=>{const n=`${e}${r}`,i=t.get(n);if(i)return i.x=Date.now(),t.set(n,i),i.v},set:(r,n)=>{t.set(`${e}${r}`,{v:n,x:Date.now()})}}}(`derive:${e}:`,t):n.R,t&&function(e){const t=Date.now(),r=[];e.forEach(((e,{x:n})=>{t-n>i&&r.push(e)})),r.forEach((t=>e.del(t)))}(t)}a()},3919:(e,t,r)=>{r.d(t,{A:()=>i,R:()=>s});const n=new Map,i={del:e=>{n.delete(e)},forEach:e=>{for(const[t,r]of n.entries())e(t,r)},get:e=>n.get(e),set:(e,t)=>{n.set(e,t)}},s={del:()=>{},forEach:()=>{},get:()=>{},set:(e,t)=>t}},64176:(e,t,r)=>{r.d(t,{G:()=>Fs});var n={};r.r(n),r.d(n,{_flags:()=>ne,_identity:()=>he,accountId:()=>te,flags:()=>ie,hasIdentity:()=>ye,hasIdentityMulti:()=>me,idAndIndex:()=>se,idToIndex:()=>fe,identity:()=>ge,indexToId:()=>be,indexes:()=>we,info:()=>ke});var i={};r.r(i),r.d(i,{hasProposals:()=>He,members:()=>Pe,prime:()=>$e,proposal:()=>Oe,proposalCount:()=>De,proposalHashes:()=>Ve,proposals:()=>Ne});var s={};r.r(s),r.d(s,{_getIds:()=>je,all:()=>We,expand:()=>Ze,get:()=>Fe,getExpanded:()=>ze,listNodes:()=>Ge});var a={};r.r(a),r.d(a,{account:()=>pt,all:()=>st,votingBalance:()=>gt,votingBalances:()=>ht});var o={};r.r(o),r.d(o,{bounties:()=>ft});var c={};r.r(c),r.d(c,{_getHeaderRange:()=>At,bestNumber:()=>_t.O,bestNumberFinalized:()=>vt.b,bestNumberLag:()=>wt.f,getBlock:()=>bt.Q,getBlockByNumber:()=>xt,getHeader:()=>qt,subscribeFinalizedBlocks:()=>Ut,subscribeFinalizedHeads:()=>It,subscribeNewBlocks:()=>Tt.A,subscribeNewHeads:()=>Ct});var u={};r.r(u),r.d(u,{fees:()=>Rt});var l={};r.r(l),r.d(l,{hasProposals:()=>Vt,members:()=>Dt,prime:()=>jt,proposal:()=>Nt,proposalCount:()=>$t,proposalHashes:()=>Xt,proposals:()=>Lt,votes:()=>Ht,votesOf:()=>Ot});var d={};r.r(d),r.d(d,{childKey:()=>Ft,contributions:()=>Yt,ownContributions:()=>rr});var p={};r.r(p),r.d(p,{_referendumInfo:()=>Er,_referendumVotes:()=>xr,_referendumsVotes:()=>kr,dispatchQueue:()=>or,locks:()=>ur,nextExternal:()=>lr,preimage:()=>hr,preimages:()=>pr,proposals:()=>yr,referendumIds:()=>mr,referendums:()=>fr,referendumsActive:()=>_r,referendumsFinished:()=>vr,referendumsInfo:()=>Sr,sqrtElectorate:()=>Ur});var h={};r.r(h),r.d(h,{info:()=>Cr});var g={};r.r(g),r.d(g,{receivedHeartbeats:()=>Mr});var y={};r.r(y),r.d(y,{hasProposals:()=>Pr,members:()=>Br,prime:()=>Nr,proposal:()=>Hr,proposalCount:()=>Or,proposalHashes:()=>Dr,proposals:()=>Vr});var m={};r.r(m),r.d(m,{info:()=>jr,overview:()=>Fr});var f={};r.r(f),r.d(f,{eraLength:()=>Qr,eraProgress:()=>Yr,indexes:()=>zr,info:()=>Kr,progress:()=>Jr,sessionProgress:()=>en});var _={};r.r(_),r.d(_,{_members:()=>sn,candidates:()=>tn,info:()=>rn,member:()=>nn,members:()=>an});var v={};r.r(v),r.d(v,{_eraExposure:()=>An,_eraPrefs:()=>Dn,_eraSlashes:()=>Fn,_erasExposure:()=>Tn,_erasPoints:()=>Pn,_erasPrefs:()=>Nn,_erasRewards:()=>Ln,_erasSlashes:()=>zn,_ownExposures:()=>Yn,_ownSlashes:()=>ri,_stakerExposures:()=>ui,_stakerPoints:()=>pi,_stakerPrefs:()=>gi,_stakerRewards:()=>_i,_stakerRewardsEras:()=>fi,_stakerSlashes:()=>xi,account:()=>dn,accounts:()=>ln,currentPoints:()=>pn,electedInfo:()=>gn,eraExposure:()=>In,eraPrefs:()=>Vn,eraSlashes:()=>Zn,erasExposure:()=>Cn,erasHistoric:()=>Rn,erasPoints:()=>Hn,erasPrefs:()=>$n,erasRewards:()=>jn,erasSlashes:()=>Kn,keys:()=>Gn,keysMulti:()=>Jn,nextElected:()=>qi,overview:()=>Qn,ownExposure:()=>ei,ownExposures:()=>ti,ownSlash:()=>ni,ownSlashes:()=>ii,query:()=>oi,queryMulti:()=>ci,stakerExposure:()=>di,stakerExposures:()=>li,stakerPoints:()=>hi,stakerPrefs:()=>yi,stakerRewards:()=>vi,stakerRewardsMulti:()=>bi,stakerRewardsMultiEras:()=>wi,stakerSlashes:()=>ki,stashes:()=>Si,validators:()=>Ui,waitingInfo:()=>Ii});var w={};r.r(w),r.d(w,{hasProposals:()=>Ci,members:()=>Ti,prime:()=>Hi,proposal:()=>Ri,proposalCount:()=>Mi,proposalHashes:()=>Bi,proposals:()=>Pi});var b={};r.r(b),r.d(b,{proposals:()=>Oi});var x={};r.r(x),r.d(x,{events:()=>Di,signingInfo:()=>Ki});var k=r(36061),E=r(33403),S=r(54371),q=r(55858),U=r(46610);const A=(new URL("file:///Users/kami/Documents/GitHub/polkagate/apps-config/node_modules/@polkadot/api/packageInfo.js").pathname.substring(0,new URL("file:///Users/kami/Documents/GitHub/polkagate/apps-config/node_modules/@polkadot/api/packageInfo.js").pathname.lastIndexOf("/")+1),"15.6.1");function I(e,t){return e.findMetaCall((0,U.Y)(t))}function T(e,t){return e.findMetaError((0,U.Y)(t))}var C=r(68730),R=r(12335),M=r(35120),B=r(77984),P=r(35562),H=r(32167),O=r(85617),D=r(4615),V=r(48731),N=r(1346),$=r(95292),X=r(65417),L=r(34323),j=r(58615),W=r(19184),F=r(56130),Z=r(43806),z=r(11348),K=r(98825),G=r(27127);function J(e,t,r,n){(0,G.W)(e,t,(()=>(0,G.G)({},r(t),(e=>n(t,e)))))}var Q=r(48358),Y=r(94175),ee=r(44777);function te(e,t){return(0,ee.X)(e,(e=>{const r=(0,Q.U)(e)?e:(0,Y.m)((e||"").toString());if(r.length>8)return(0,M.of)(t.registry.createType(20===r.length?"AccountId20":"AccountId",r));const n=t.registry.createType("AccountIndex",r);return t.derive.accounts.indexToId(n.toString()).pipe((0,B.U)((e=>(0,V.k8)(e,"Unable to retrieve accountId"))))}))}var re=r(33661);function ne(e,t){return(0,ee.X)(e,(()=>{const e=[void 0,[],[],[],void 0],r=[(t.query.elections||t.query.phragmenElection||t.query.electionsPhragmen)?.members,t.query.council?.members,t.query.technicalCommittee?.members,t.query.society?.members,t.query.sudo?.key],n=r.filter((e=>e));return n.length?t.queryMulti(n).pipe((0,B.U)((t=>{let n=-1;for(let i=0,s=r.length;i<s;i++)(0,re.m)(r[i])&&(e[i]=t[++n]);return e}))):(0,M.of)(e)}))}function ie(e,t){return(0,ee.X)(e,(e=>t.derive.accounts._flags().pipe((0,B.U)((t=>function(e,[t,r,n,i,s]){const a=e?.toString(),o=e=>e.toString()===a;return{isCouncil:(t?.map((e=>Array.isArray(e)?e[0]:e.who))||r||[]).some(o),isSociety:(i||[]).some(o),isSudo:s?.toString()===a,isTechCommittee:(n||[]).some(o)}}(e,t))))))}function se(e,t){return(0,ee.X)(e,(e=>{try{const r=(0,Q.U)(e)?e:(0,Y.m)((e||"").toString());if(r.length>8){const e=t.registry.createType(20===r.length?"AccountId20":"AccountId",r);return t.derive.accounts.idToIndex(e).pipe((0,B.U)((t=>[e,t])))}const n=t.registry.createType("AccountIndex",r);return t.derive.accounts.indexToId(n.toString()).pipe((0,B.U)((e=>[e,n])))}catch{return(0,M.of)([void 0,void 0])}}))}var ae=r(56623),oe=r(74076);function ce(e){return e.pipe((0,B.U)((([e])=>e)))}function ue(e){return(t,r)=>(0,ee.X)(t,((...t)=>ce(e(r,...t))))}const le={toHex:()=>{}};function de(e){return e?e.isRaw?(0,ae.z)(e.asRaw.toU8a(!0)):e.isNone?void 0:e.toHex():e}function pe(e){const t=e.unwrap();return Array.isArray(t)?t[0]:t}function he(e,t){return(0,ee.X)(e,(e=>e&&t.query.identity?.identityOf?(0,Z.a)([t.query.identity.identityOf(e),t.query.identity.superOf(e)]):(0,M.of)([void 0,void 0])))}function ge(e,t){return(0,ee.X)(e,(e=>t.derive.accounts._identity(e).pipe((0,R.w)((([e,r])=>function(e,t,r){if(t?.isSome)return(0,M.of)([t,void 0]);if(r?.isSome){const t=r.unwrap();return(0,Z.a)([e.derive.accounts._identity(t[0]).pipe((0,B.U)((([e])=>e))),(0,M.of)(t)])}return(0,M.of)([void 0,void 0])}(t,e,r))),(0,B.U)((([e,t])=>function(e,t){if(!e?.isSome)return{judgements:[]};const{info:r,judgements:n}=pe(e),i=de(r.display);return{discord:de(r.discord),display:t&&de(t[1])||i,displayParent:t&&i,email:de(r.email),github:de(r.github),image:de(r.image),judgements:n,legal:de(r.legal),matrix:de(r.matrix),other:r.additional?(s=r.additional,s.reduce(((e,[t,r])=>{const n=de(t),i=de(r);return n&&i&&(e[n]=i),e}),{})):{},parent:t?.[0],pgp:r.pgpFingerprint.unwrapOr(le).toHex(),riot:de(r.riot),twitter:de(r.twitter),web:de(r.web)};var s}(e,t))),(0,R.w)((r=>function(e,t,r){const n=e.parent||r;return n&&t.query.identity?t.query.identity.subsOf(n).pipe((0,B.U)((t=>{const r=t[1];return{...e,subs:r}}))):(0,M.of)(e)}(r,t,e))))))}const ye=ue(((e,t)=>e.derive.accounts.hasIdentityMulti([t])));function me(e,t){return(0,ee.X)(e,(e=>t.query.identity?.identityOf?(0,Z.a)([t.query.identity.identityOf.multi(e),t.query.identity.superOf.multi(e)]).pipe((0,B.U)((([e,t])=>e.map(((e,r)=>{const n=t[r],i=n&&n.isSome?n.unwrap()[0].toString():void 0;let s;if(e&&e.isSome){const t=de(pe(e).info.display);t&&!(0,oe.vq)(t)&&(s=t)}return{display:s,hasIdentity:!(!s&&!i),parentId:i}}))))):(0,M.of)(e.map((()=>({hasIdentity:!1}))))))}function fe(e,t){return(0,ee.X)(e,(e=>t.derive.accounts.indexes().pipe((0,B.U)((t=>t[e.toString()])))))}var _e=r(62952);let ve=null;function we(e,t){return(0,ee.X)(e,(()=>ve?(0,M.of)(ve):(t.query.indices?function(e){return e.query.indices.accounts.entries().pipe((0,B.U)((t=>t.reduce(((t,[r,n])=>(n.isSome&&(t[n.unwrap()[0].toString()]=e.registry.createType("AccountIndex",r.args[0])),t)),{}))))}(t).pipe((0,_e.O)({})):(0,M.of)({})).pipe((0,B.U)((e=>(ve=e,e))))))}function be(e,t){return(0,ee.X)(e,(e=>t.query.indices?t.query.indices.accounts(e).pipe((0,B.U)((e=>e.unwrapOr([])[0]))):(0,M.of)(void 0)))}function xe(e,t){return(t&&e.query.nicks?.nameOf?e.query.nicks.nameOf(t):(0,M.of)(void 0)).pipe((0,B.U)((t=>t?.isSome?(0,ae.z)(t.unwrap()[0]).substring(0,e.consts.nicks.maxLength.toNumber()):void 0)))}function ke(e,t){return(0,ee.X)(e,(e=>t.derive.accounts.idAndIndex(e).pipe((0,R.w)((([e,r])=>(0,Z.a)([(0,M.of)({accountId:e,accountIndex:r}),t.derive.accounts.identity(e),xe(t,e)]))),(0,B.U)((([{accountId:e,accountIndex:t},r,n])=>({accountId:e,accountIndex:t,identity:r,nickname:n}))))))}function Ee(e,t){return(r,n)=>(0,ee.X)(r,t(function(e,t){const r=e.registry.getModuleInstances(e.runtimeVersion.specName,t),n=r?.length?r[0]:t;return e.query[n]}(n,e),n,r))}function Se(e,t){return r=>Ee(r,(r=>()=>(0,re.m)(r?.[e])?r[e]():(0,M.of)(t)))}const qe=Se("members",[]);var Ue=r(47009);function Ae(e,t,r){return((0,re.m)(t?.proposals)&&r.length?(0,Z.a)([(0,M.of)(r),t.proposalOf.multi(r).pipe((0,Ue.K)((()=>(0,M.of)(r.map((()=>null)))))),t.voting.multi(r)]):(0,M.of)([[],[],[]])).pipe((0,B.U)((t=>function(e,[t,r,n]){return r.map(((r,i)=>({hash:e.registry.createType("Hash",t[i]),proposal:r&&r.isSome?r.unwrap():null,votes:n[i].unwrapOr(null)})))}(e,t))))}function Ie(e){return Ee(e,(e=>()=>(0,M.of)((0,re.m)(e?.proposals))))}function Te(e){return Ee(e,((t,r)=>()=>r.derive[e].proposalHashes().pipe((0,R.w)((e=>Ae(r,t,e))))))}function Ce(e){return Ee(e,((e,t)=>r=>(0,re.m)(e?.proposals)?ce(Ae(t,e,[r])):(0,M.of)(null)))}const Re=Se("proposalCount",null),Me=Se("proposals",[]);function Be(e){return Ee(e,(e=>()=>(0,re.m)(e?.prime)?e.prime().pipe((0,B.U)((e=>e.unwrapOr(null)))):(0,M.of)(null)))}const Pe=qe("allianceMotion"),He=Ie("allianceMotion"),Oe=Ce("allianceMotion"),De=Re("allianceMotion"),Ve=Me("allianceMotion"),Ne=Te("allianceMotion"),$e=Be("allianceMotion");var Xe=r(12372);function Le(e){return e.query.voterList||e.query.voterBagsList||e.query.bagsList}function je(e,t){const r=Le(t);return(0,ee.X)(e,(e=>{const t=e.map((e=>(0,Xe.G)(e)));return t.length?r.listBags.multi(t).pipe((0,B.U)((e=>function(e,t){const r=e.map(((e,r)=>({bag:t[r].unwrapOr(null),id:e,key:e.toString()}))).sort(((e,t)=>t.id.cmp(e.id))),n=r.length-1;return r.map(((e,t)=>(0,E.Z)(e,{bagLower:t===n?$.nw:r[t+1].id,bagUpper:e.id,index:t})))}(t,e)))):(0,M.of)([])}))}function We(e,t){const r=Le(t);return(0,ee.X)(e,(()=>r.listBags.keys().pipe((0,R.w)((e=>t.derive.bagsList._getIds(e.map((({args:[e]})=>e))))),(0,B.U)((e=>e.filter((({bag:e})=>e)))))))}function Fe(e,t){return(0,ee.X)(e,(e=>t.derive.bagsList._getIds([(0,Xe.G)(e)]).pipe((0,B.U)((e=>e[0])))))}function Ze(e,t){return(0,ee.X)(e,(e=>t.derive.bagsList.listNodes(e.bag).pipe((0,B.U)((t=>(0,E.Z)({nodes:t},e))))))}function ze(e,t){return(0,ee.X)(e,(e=>t.derive.bagsList.get(e).pipe((0,R.w)((e=>t.derive.bagsList.expand(e))))))}var Ke=r(17965);function Ge(e,t){return(0,ee.X)(e,(e=>e&&e.head.isSome?function(e,t){const r=new F.X(t),n=Le(e);return r.pipe((0,R.w)((e=>n.listNodes(e))),(0,z.b)((e=>{(0,Ke.Y)((()=>{e.isSome&&e.value.next.isSome?r.next(e.unwrap().next.unwrap()):r.complete()}))})),(0,K.q)(),(0,B.U)((e=>e.map((e=>e.unwrap())))))}(t,e.head.unwrap()):(0,M.of)([])))}var Je=r(48801),Qe=r(52107);const Ye="0x76657374696e6720";function et(e,t,r,n){const{allLocked:i,lockedBalance:s,lockedBreakdown:a,vestingLocked:o}=function(e,t,r){let n=e.registry.createType("Balance"),i=[],s=e.registry.createType("Balance"),a=!1;if(Array.isArray(r)){i=r.filter((({until:e})=>!e||t&&e.gt(t))),a=i.some((({amount:e})=>e&&e.isMax())),s=e.registry.createType("Balance",i.filter((({id:e})=>e.eq(Ye))).reduce(((e,{amount:t})=>e.iadd(t)),new Je(0)));const o=i.filter((({amount:e})=>e&&!e.isMax()));o.length&&(n=e.registry.createType("Balance",(0,Qe.x)(...o.map((({amount:e})=>e)))))}return{allLocked:a,lockedBalance:n,lockedBreakdown:i,vestingLocked:s}}(e,t,n);let c=null;if(r?.frameSystemAccountInfo?.frozen){const{frameSystemAccountInfo:t,freeBalance:n,reservedBalance:s}=r,a=t.frozen.isZero()&&s.isZero(),o=e.consts.balances.existentialDeposit,u=a?new Je(0):o,l=t.frozen.sub(s);c=e.registry.createType("Balance",i?0:n.sub((0,Qe.x)(u,l)))}return(0,E.Z)({},r,{availableBalance:e.registry.createType("Balance",i?0:(0,Qe.x)(new Je(0),r?.freeBalance?r.freeBalance.sub(s):new Je(0))),lockedBalance:s,lockedBreakdown:a,transferable:c,vestingLocked:o})}function tt(e,t){return(0,Z.a)([e.query.balances.locks(t),e.query.balances.vesting(t)]).pipe((0,B.U)((([t,r])=>{let n=null;if(r.isSome){const{offset:t,perBlock:i,startingBlock:s}=r.unwrap();n=e.registry.createType("VestingInfo",{locked:t,perBlock:i,startingBlock:s})}return[n?[n]:null,[t],[]]})))}const rt=e=>!!e;function nt(e){return[e.map((e=>!e)),e.filter(rt)]}function it(e,t,r=["balances"]){const[n,i]=nt(r.map((t=>e.derive[t]?.customLocks||e.query[t]?.locks))),[s,a]=nt(r.map((t=>e.query[t]?.reserves)));return(0,Z.a)([e.query.vesting?.vesting?e.query.vesting.vesting(t):(0,M.of)(e.registry.createType("Option<VestingInfo>")),i.length?(0,Z.a)(i.map((e=>e(t)))):(0,M.of)([]),a.length?(0,Z.a)(a.map((e=>e(t)))):(0,M.of)([])]).pipe((0,B.U)((([t,r,i])=>{let a=-1,o=-1;const c=t.unwrapOr(null);return[c?Array.isArray(c)?c:[c]:null,n.map((t=>t?e.registry.createType("Vec<BalanceLock>"):r[++a])),s.map((t=>t?e.registry.createType("Vec<PalletBalancesReserveData>"):i[++o]))]})))}function st(e,t){const r=t.registry.getModuleInstances(t.runtimeVersion.specName,"balances");return(0,ee.X)(e,(e=>(0,Z.a)([t.derive.balances.account(e),(0,re.m)(t.query.system?.account)||(0,re.m)(t.query.balances?.account)?it(t,e,r):tt(t,e)]).pipe((0,R.w)((([e,r])=>(0,Z.a)([(0,M.of)(e),(0,M.of)(r),t.derive.chain.bestNumber()]))),(0,B.U)((e=>function(e,t){const[r,[n,i,s],a]=t,o=et(e,a,r,i[0]);return(0,E.Z)(o,function(e,t,r){const n=r||[],i=!t.vestingLocked.isZero(),s=n.map((({locked:t,perBlock:r,startingBlock:n})=>e.gt(n)?(0,Qe.N)(t,r.mul(e.sub(n))):$.nw)),a=s.reduce(((e,t)=>e.iadd(t)),new Je(0)),o=n.reduce(((e,{locked:t})=>e.iadd(t)),new Je(0));return{isVesting:i,vestedBalance:a,vestedClaimable:i?t.vestingLocked.sub(o.sub(a)):$.nw,vesting:n.map((({locked:e,perBlock:t,startingBlock:r},n)=>({endBlock:e.div(t).iadd(r),locked:e,perBlock:t,startingBlock:r,vested:s[n]}))).filter((({locked:e})=>!e.isZero())),vestingTotal:o}}(a,o,n),{accountId:r.accountId,accountNonce:r.accountNonce,additional:i.slice(1).map(((t,n)=>et(e,a,r.additional[n],t))),namedReserves:s})}(t,e))))))}function at(e){return e.registry.createType("Balance")}function ot(e,[t,r,n,i],s){const a=e.registry.createType("Balance",t.toBn());return s.isFrameAccountData?{frameSystemAccountInfo:{flags:i,frozen:n},freeBalance:t,frozenFee:e.registry.createType("Balance",0),frozenMisc:e.registry.createType("Balance",0),reservedBalance:r,votingBalance:a}:{freeBalance:t,frozenFee:n,frozenMisc:i,reservedBalance:r,votingBalance:a}}function ct(e,t){return(0,Z.a)([e.query.balances.freeBalance(t),e.query.balances.reservedBalance(t),e.query.system.accountNonce(t)]).pipe((0,B.U)((([t,r,n])=>[n,[[t,r,at(e),at(e)]],{isFrameAccountData:!1}])))}function ut(e,t){const r=t=>[t,[[at(e),at(e),at(e),at(e)]],{isFrameAccountData:!1}];return(0,re.m)(e.query.system.account)?e.query.system.account(t).pipe((0,B.U)((({nonce:e})=>r(e)))):(0,re.m)(e.query.system.accountNonce)?e.query.system.accountNonce(t).pipe((0,B.U)((e=>r(e)))):(0,M.of)(r(e.registry.createType("Index")))}function lt(e,t,r=["balances"]){const n=r.map((t=>e.derive[t]?.customAccount||e.query[t]?.account)).filter((e=>(0,re.m)(e))),i=(e,t)=>[e,t.map((({feeFrozen:e,free:t,miscFrozen:r,reserved:n})=>[t,n,e,r])),{isFrameAccountData:!1}];return n.length?(0,re.m)(e.query.system.account)?(0,Z.a)([e.query.system.account(t),...n.map((e=>e(t)))]).pipe((0,B.U)((([{nonce:e},...t])=>i(e,t)))):(0,Z.a)([e.query.system.accountNonce(t),...n.map((e=>e(t)))]).pipe((0,B.U)((([e,...t])=>i(e,t)))):ut(e,t)}function dt(e,t){return e.query.system.account(t).pipe((0,B.U)((t=>{const r=t.nonce?t.data:t[1],n=t.nonce||t[0];if(!r||r.isEmpty)return[n,[[at(e),at(e),at(e),at(e)]],{isFrameAccountData:!1}];if(t.data.frozen){const{flags:e,free:t,frozen:i,reserved:s}=r;return[n,[[t,s,i,e]],{isFrameAccountData:!0}]}{const{feeFrozen:e,free:t,miscFrozen:i,reserved:s}=r;return[n,[[t,s,e,i]],{isFrameAccountData:!1}]}})))}function pt(e,t){const r=t.registry.getModuleInstances(t.runtimeVersion.specName,"balances"),n=r&&"balances"!==r[0];return(0,ee.X)(e,(e=>t.derive.accounts.accountId(e).pipe((0,R.w)((e=>e?(0,Z.a)([(0,M.of)(e),n?lt(t,e,r):(0,re.m)(t.query.system?.account)?dt(t,e):(0,re.m)(t.query.balances?.account)?lt(t,e):(0,re.m)(t.query.balances?.freeBalance)?ct(t,e):ut(t,e)]):(0,M.of)([t.registry.createType("AccountId"),[t.registry.createType("Index"),[[at(t),at(t),at(t),at(t)]],{isFrameAccountData:!1}]]))),(0,B.U)((e=>function(e,[t,[r,[n,...i],s]]){return(0,E.Z)({accountId:t,accountNonce:r,additional:i.map((t=>ot(e,t,s)))},ot(e,n,s))}(t,e))))))}function ht(e,t){return(0,ee.X)(e,(e=>e?.length?(0,Z.a)(e.map((e=>t.derive.balances.account(e)))):(0,M.of)([])))}const gt=st;function yt(e,t){const r=e.tx.bounties?e.tx.bounties:e.tx.treasury,n=[r.approveBounty,r.closeBounty,r.proposeCurator,r.unassignCurator];return t.filter((e=>n.find((t=>e.proposal&&t.is(e.proposal)))))}function mt([e,t,r,n]){const i=[];return e.forEach(((e,s)=>{e.isSome&&i.push({bounty:e.unwrap(),description:t[s].unwrapOrDefault().toUtf8(),index:r[s],proposals:n.filter((e=>e.proposal&&r[s].eq(e.proposal.args[0])))})})),i}function ft(e,t){const r=t.query.bounties||t.query.treasury;return(0,ee.X)(e,(()=>r.bounties?(0,Z.a)([r.bountyCount(),t.query.council?t.query.council.proposalCount():(0,M.of)(0)]).pipe((0,R.w)((()=>(0,Z.a)([r.bounties.keys(),t.derive.council?t.derive.council.proposals():(0,M.of)([])]))),(0,R.w)((([e,n])=>{const i=e.map((({args:[e]})=>e));return(0,Z.a)([r.bounties.multi(i),r.bountyDescriptions.multi(i),(0,M.of)(i),(0,M.of)(yt(t,n))])})),(0,B.U)(mt)):(0,M.of)(mt([[],[],[],[]]))))}var _t=r(75274),vt=r(60094),wt=r(23052),bt=r(32166);function xt(e,t){return(0,ee.X)(e,(e=>t.rpc.chain.getBlockHash(e).pipe((0,R.w)((e=>t.derive.chain.getBlock(e))))))}var kt=r(69551);function Et(e,t,r,n){const i=e.createClass("Header");return new class extends i{__internal__author;constructor(e,t,r,n){super(e,t),this.__internal__author=n||(0,kt.R)(this.digest,r||[]),this.createdAtHash=t?.createdAtHash}get author(){return this.__internal__author}}(e,t,r,n)}var St=r(16173);function qt(e,t){return(0,ee.X)(e,(e=>t.rpc.chain.getHeader(e).pipe((0,R.w)((r=>(0,St.w)(t,r,e))),(0,B.U)((([e,t,r])=>Et((t||e).registry,e,t,r))))))}function Ut(e,t){return(0,ee.X)(e,(()=>t.derive.chain.subscribeFinalizedHeads().pipe((0,R.w)((e=>t.derive.chain.getBlock(e.createdAtHash||e.hash))))))}function At(e,t){return(0,ee.X)(e,((e,r,n=[])=>t.rpc.chain.getHeader(e).pipe((0,R.w)((e=>e.parentHash.eq(r)?(0,M.of)([e,...n]):t.derive.chain._getHeaderRange(e.parentHash,r,[e,...n]))))))}function It(e,t){return(0,ee.X)(e,(()=>{let e=null;return t.rpc.chain.subscribeFinalizedHeads().pipe((0,R.w)((r=>{const n=e,i=r.parentHash;return e=r.createdAtHash=r.hash,null===n||i.eq(n)?(0,M.of)(r):t.derive.chain._getHeaderRange(i,n,[r]).pipe((0,R.w)((e=>(0,W.D)(e))))})))}))}var Tt=r(79490);function Ct(e,t){return(0,ee.X)(e,(()=>t.rpc.chain.subscribeNewHeads().pipe((0,R.w)((e=>(0,St.w)(t,e))),(0,B.U)((([e,t,r])=>(e.createdAtHash=e.hash,Et(e.registry,e,t,r)))))))}function Rt(e,t){return(0,ee.X)(e,(()=>function(e){return(0,M.of)([e.consts.contracts.callBaseFee||e.registry.createType("Balance"),e.consts.contracts.contractFee||e.registry.createType("Balance"),e.consts.contracts.creationFee||e.registry.createType("Balance"),e.consts.contracts.transactionBaseFee||e.registry.createType("Balance"),e.consts.contracts.transactionByteFee||e.registry.createType("Balance"),e.consts.contracts.transferFee||e.registry.createType("Balance"),e.consts.contracts.rentByteFee||e.registry.createType("Balance"),e.consts.contracts.rentDepositOffset||e.registry.createType("Balance"),e.consts.contracts.surchargeReward||e.registry.createType("Balance"),e.consts.contracts.tombstoneDeposit||e.registry.createType("Balance")])}(t).pipe((0,B.U)((([e,t,r,n,i,s,a,o,c,u])=>({callBaseFee:e,contractFee:t,creationFee:r,rentByteFee:a,rentDepositOffset:o,surchargeReward:c,tombstoneDeposit:u,transactionBaseFee:n,transactionByteFee:i,transferFee:s}))))))}function Mt(e){return!Array.isArray(e)}function Bt(e){return e.stakeOf.entries().pipe((0,B.U)((e=>e.map((([{args:[e]},t])=>[e,t])))))}function Pt(e){return e.votesOf.entries().pipe((0,B.U)((e=>e.map((([{args:[e]},t])=>[e,t])))))}function Ht(e,t){const r=t.query.elections||t.query.phragmenElection||t.query.electionsPhragmen;return(0,ee.X)(e,(()=>r?r.stakeOf?function(e,t){return(0,Z.a)([Bt(t),Pt(t)]).pipe((0,B.U)((([t,r])=>{const n=[];return r.forEach((([t,r])=>{n.push([t,{stake:e.registry.createType("Balance"),votes:r}])})),t.forEach((([e,t])=>{const r=n.find((([t])=>t.eq(e)));r?r[1].stake=t:n.push([e,{stake:t,votes:[]}])})),n})))}(t,r):function(e){return e.voting.entries().pipe((0,B.U)((e=>e.map((([{args:[e]},t])=>[e,Mt(t)?{stake:t.stake,votes:t.votes}:{stake:t[0],votes:t[1]}])))))}(r):(0,M.of)([])))}function Ot(e,t){return(0,ee.X)(e,(e=>t.derive.council.votes().pipe((0,B.U)((r=>(r.find((([t])=>t.eq(e)))||[null,{stake:t.registry.createType("Balance"),votes:[]}])[1])))))}const Dt=qe("council"),Vt=Ie("council"),Nt=Ce("council"),$t=Re("council"),Xt=Me("council"),Lt=Te("council"),jt=Be("council");var Wt=r(51330);function Ft(e,t){return(0,ee.X)(e,(e=>t.query.crowdloan.funds(e).pipe((0,B.U)((e=>e.isSome?function(e){return(0,q.c)((0,Wt.e)(":child_storage:default:",(0,L.b)((0,Wt.e)("crowdloan",(e.fundIndex||e.trieIndex).toU8a()))))}(e.unwrap()):null)))))}var Zt=r(20),zt=r(95209);function Kt(e,t){return t.filter((({event:{data:[,t],method:r,section:n}})=>"crowdloan"===n&&["Contributed","Withdrew"].includes(r)&&t.eq(e))).reduce(((e,{event:{data:[t],method:r}})=>("Contributed"===r?e.added.push(t.toHex()):e.removed.push(t.toHex()),e)),{added:[],blockHash:t.createdAtHash?.toHex()||"-",removed:[]})}const Gt=1e3;function Jt(e,t){let r=[],n=[];return e.query.system.events().pipe((0,R.w)((e=>{const i=Kt(t,e);return i.added.length||i.removed.length?(r=r.concat(...i.added),n=n.concat(...i.removed),(0,M.of)({added:r,addedDelta:i.added,blockHash:e.createdAtHash?.toHex()||"-",removed:n,removedDelta:i.removed})):Zt.E})),(0,_e.O)({added:r,addedDelta:[],blockHash:"-",removed:n,removedDelta:[]}))}function Qt(e,t,r){return function(e,t){return e.query.system.events().pipe((0,R.w)((e=>e.filter((({event:{data:[e],method:r,section:n}})=>"crowdloan"===n&&["AllRefunded","Dissolved","PartiallyRefunded"].includes(r)&&e.eq(t))).length?(0,M.of)(e.createdAtHash?.toHex()||"-"):Zt.E)),(0,_e.O)("-"))}(e,t).pipe((0,R.w)((()=>(0,re.m)(e.rpc.childstate.getKeysPaged)?function(e,t){const r=new F.X(void 0);return r.pipe((0,R.w)((r=>e.rpc.childstate.getKeysPaged(t,"0x",Gt,r))),(0,z.b)((e=>{(0,Ke.Y)((()=>{e.length===Gt?r.next(e[Gt-1].toHex()):r.complete()}))})),(0,K.q)(),(0,B.U)((e=>(0,zt.a)(e))))}(e,r):e.rpc.childstate.getKeys(r,"0x"))),(0,B.U)((e=>e.map((e=>e.toHex())))))}function Yt(e,t){return(0,ee.X)(e,(e=>t.derive.crowdloan.childKey(e).pipe((0,R.w)((r=>r?function(e,t,r){return(0,Z.a)([Qt(e,t,r),Jt(e,t)]).pipe((0,B.U)((([e,{added:t,blockHash:r,removed:n}])=>{const i={};return e.forEach((e=>{i[e]=!0})),t.forEach((e=>{i[e]=!0})),n.forEach((e=>{delete i[e]})),{blockHash:r,contributorsHex:Object.keys(i)}})))}(t,e,r):(0,M.of)({blockHash:"-",contributorsHex:[]}))))))}function er(e,t,r){return(0,Z.a)(r.map((r=>e.rpc.childstate.getStorage(t,r)))).pipe((0,B.U)((t=>t.map((t=>e.registry.createType("Option<StorageData>",t))).map((t=>t.isSome?e.registry.createType("Balance",t.unwrap()):e.registry.createType("Balance"))).reduce(((e,t,n)=>(0,E.Z)(e,{[r[n]]:t})),{}))))}function tr(e,t,r,n){return e.query.system.events().pipe((0,R.w)((i=>{const s=Kt(t,i),a=n.filter((e=>s.added.includes(e)||s.removed.includes(e)));return a.length?er(e,r,a):Zt.E})),(0,_e.O)({}))}function rr(e,t){return(0,ee.X)(e,((e,r)=>t.derive.crowdloan.childKey(e).pipe((0,R.w)((n=>n&&r.length?function(e,t,r,n){return(0,Z.a)([er(e,r,n),tr(e,t,r,n)]).pipe((0,B.U)((([e,t])=>(0,E.Z)({},e,t))))}(t,e,n,r):(0,M.of)({}))))))}var nr=r(27113),ir=r(54827),sr=r(15938);const ar=(0,ir.$)("democrac");function or(e,t){return(0,ee.X)(e,(()=>(0,re.m)(t.query.scheduler?.agenda)?function(e){return function(e){return e.derive.democracy.referendumsFinished().pipe((0,R.w)((()=>e.query.scheduler.agenda.keys())),(0,R.w)((t=>{const r=t.map((({args:[e]})=>e));return r.length?(0,Z.a)([(0,M.of)(r),e.query.scheduler.agenda.multi(r).pipe((0,Ue.K)((()=>(0,M.of)(r.map((()=>[]))))))]):(0,M.of)([[],[]])})))}(e).pipe((0,R.w)((([t,r])=>{const n=[];return t.forEach(((t,i)=>{(r[i]||[]).filter((e=>e.isSome)).forEach((r=>{const i=r.unwrap();if(i.maybeId.isSome){const r=i.maybeId.unwrap().toHex();if(r.startsWith(ar)){const a=i.call instanceof nr.x?(s=i.call).isInline||s.isLegacy||s.isLookup?(0,sr.hr)(i.call):i.call.isHash?i.call.asHash.toHex():i.call.asValue.args[0].toHex():i.call.args[0].toHex();n.push({at:t,imageHash:a,index:e.registry.createType("(u64, ReferendumIndex)",r)[1]})}}var s}))})),(0,Z.a)([(0,M.of)(n),n.length?e.derive.democracy.preimages(n.map((({imageHash:e})=>e))):(0,M.of)([])])})),(0,B.U)((([e,t])=>e.map(((e,r)=>(0,E.Z)({image:t[r]},e))))))}(t):t.query.democracy.dispatchQueue?function(e){return e.query.democracy.dispatchQueue().pipe((0,R.w)((t=>(0,Z.a)([(0,M.of)(t),e.derive.democracy.preimages(t.map((([,e])=>e)))]))),(0,B.U)((([e,t])=>e.map((([e,r,n],i)=>({at:e,image:t[i],imageHash:(0,sr.hr)(r),index:n}))))))}(t):(0,M.of)([])))}const cr=[0,1,2,4,8,16,32];function ur(e,t){return(0,ee.X)(e,(e=>t.query.democracy.votingOf?t.query.democracy.votingOf(e).pipe((0,R.w)((e=>e.isDirect?function(e,{votes:t}){return t.length?e.query.democracy.referendumInfoOf.multi(t.map((([e])=>e))).pipe((0,B.U)((r=>t.map(((e,t)=>[e,r[t].unwrapOr(null)])).filter((e=>!!e[1]&&(0,N.o)(e[1].end)&&e[0][1].isStandard)).map((([t,r])=>function(e,[t,r],n){const{balance:i,vote:s}=r.asStandard,[a,o]=n.isFinished?function(e,t,{approved:r,end:n}){return[n,r.isTrue&&t.isAye||r.isFalse&&t.isNay?n.add((e.consts.democracy.voteLockingPeriod||e.consts.democracy.enactmentPeriod).muln(cr[t.conviction.index])):$.nw]}(e,s,n.asFinished):[$.nw,$.nw];return{balance:i,isDelegated:!1,isFinished:n.isFinished,referendumEnd:a,referendumId:t,unlockAt:o,vote:s}}(e,t,r)))))):(0,M.of)([])}(t,e.asDirect):e.isDelegating?function(e,{balance:t,conviction:r,target:n}){return e.derive.democracy.locks(n).pipe((0,B.U)((n=>n.map((({isFinished:n,referendumEnd:i,referendumId:s,unlockAt:a,vote:o})=>({balance:t,isDelegated:!0,isFinished:n,referendumEnd:i,referendumId:s,unlockAt:a.isZero()?a:i.add((e.consts.democracy.voteLockingPeriod||e.consts.democracy.enactmentPeriod).muln(cr[r.index])),vote:e.registry.createType("Vote",{aye:o.isAye,conviction:r})}))))))}(t,e.asDelegating):(0,M.of)([])))):(0,M.of)([])))}function lr(e,t){return(0,ee.X)(e,(()=>t.query.democracy?.nextExternal?t.query.democracy.nextExternal().pipe((0,R.w)((e=>function(e,t){if(t.isNone)return(0,M.of)(null);const[r,n]=t.unwrap();return e.derive.democracy.preimage(r).pipe((0,B.U)((e=>({image:e,imageHash:(0,sr.hr)(r),threshold:n}))))}(t,e)))):(0,M.of)(null)))}function dr(e,[t,r,n,i]){let s;try{s=e.registry.createType("Call",t.toU8a(!0))}catch(e){console.error(e)}return{at:i,balance:n,proposal:s,proposer:r}}function pr(e,t){return(0,ee.X)(e,(e=>e.length?(0,re.m)(t.query.democracy.preimages)?function(e,t){const r=t.map((e=>(0,sr.hr)(e)));return e.query.democracy.preimages.multi(r).pipe((0,B.U)((t=>t.map((t=>function(e,t){if(!t.isNone){if(function(e,t){return!!t&&!e.query.democracy.dispatchQueue}(e,t)){const r=t.unwrap();if(r.isMissing)return;const{data:n,deposit:i,provider:s,since:a}=r.asAvailable;return dr(e,[n,s,i,a])}return dr(e,t.unwrap())}}(e,t))))))}(t,e):(0,re.m)(t.query.preimage.preimageFor)?function(e,t){const r=t.map((e=>(0,sr.hr)(e))),n=e.registry.lookup.getTypeDef(e.query.preimage.preimageFor.creator.meta.type.asMap.key).type;return e.query.preimage.statusFor.multi(r).pipe((0,R.w)((t=>{const i=t.map((e=>e.unwrapOr(null))),s=i.map(((e,t)=>e?"H256"===n?r[t]:e.isRequested?[r[t],e.asRequested.len.unwrapOr(0)]:[r[t],e.asUnrequested.len]:null)).filter((e=>!!e));return e.query.preimage.preimageFor.multi(s).pipe((0,B.U)((t=>{let n=-1;return i.map(((e,i)=>e?[r[i],e,t[++n].unwrapOr(null)]:[r[i],null,null])).map((t=>function(e,[t,r,n]){if(!r)return;const[i,s]=r.isUnrequested?function(e){return e.ticket||e.deposit}(r.asUnrequested):function(e){return(e.maybeTicket||e.deposit).unwrapOrDefault()}(r.asRequested);let a;if(n)try{a=e.registry.createType("Call",n.toU8a(!0))}catch(e){console.error(e)}return{at:$.nw,balance:s,proposal:a,proposalHash:t,proposer:i}}(e,t)))})))})))}(t,e):(0,M.of)([]):(0,M.of)([])))}const hr=ue(((e,t)=>e.derive.democracy.preimages([t])));function gr([e,t,r]){return e.filter((([,,e],t)=>!!r[t]?.isSome&&!e.isEmpty)).map((([e,n,i],s)=>{const a=r[s].unwrap();return(0,E.Z)({image:t[s],imageHash:(0,sr.hr)(n),index:e,proposer:i},function(e){return(0,re.m)(e[1].mul)}(a)?{balance:a[1],seconds:a[0]}:{balance:a[0],seconds:a[1]})}))}function yr(e,t){return(0,ee.X)(e,(()=>(0,re.m)(t.query.democracy?.publicProps)?t.query.democracy.publicProps().pipe((0,R.w)((e=>e.length?(0,Z.a)([(0,M.of)(e),t.derive.democracy.preimages(e.map((([,e])=>e))),t.query.democracy.depositOf.multi(e.map((([e])=>e)))]):(0,M.of)([[],[],[]]))),(0,B.U)(gr)):(0,M.of)([])))}function mr(e,t){return(0,ee.X)(e,(()=>t.query.democracy?.lowestUnbaked?t.queryMulti([t.query.democracy.lowestUnbaked,t.query.democracy.referendumCount]).pipe((0,B.U)((([e,t])=>t.gt(e)?[...Array(t.sub(e).toNumber())].map(((t,r)=>e.addn(r))):[]))):(0,M.of)([])))}function fr(e,t){return(0,ee.X)(e,(()=>t.derive.democracy.referendumsActive().pipe((0,R.w)((e=>e.length?(0,Z.a)([(0,M.of)(e),t.derive.democracy._referendumsVotes(e)]):(0,M.of)([[],[]]))),(0,B.U)((([e,t])=>e.map(((e,r)=>(0,E.Z)({},e,t[r]))))))))}function _r(e,t){return(0,ee.X)(e,(()=>t.derive.democracy.referendumIds().pipe((0,R.w)((e=>e.length?t.derive.democracy.referendumsInfo(e):(0,M.of)([]))))))}function vr(e,t){return(0,ee.X)(e,(()=>t.derive.democracy.referendumIds().pipe((0,R.w)((e=>t.query.democracy.referendumInfoOf.multi(e))),(0,B.U)((e=>e.map((e=>e.unwrapOr(null))).filter((e=>!!e&&e.isFinished)).map((e=>e.asFinished)))))))}function wr(e,t){return e.query.democracy.votersFor(t).pipe((0,R.w)((r=>(0,Z.a)([(0,M.of)(r),r.length?e.query.democracy.voteOf.multi(r.map((e=>[t,e]))):(0,M.of)([]),e.derive.balances.votingBalances(r)]))),(0,B.U)((([t,r,n])=>t.map(((t,i)=>({accountId:t,balance:n[i].votingBalance||e.registry.createType("Balance"),isDelegating:!1,vote:r[i]||e.registry.createType("Vote")}))))))}function br(e,t){return e.query.democracy.votingOf.entries().pipe((0,B.U)((r=>{const n=r.map((([{args:[e]},t])=>[e,t])),i=function(e,t){return e.filter((([,e])=>e.isDirect)).map((([e,r])=>[e,r.asDirect.votes.filter((([e])=>e.eq(t)))])).filter((([,e])=>!!e.length)).reduce(((e,[t,r])=>r.reduce(((e,[,r])=>(r.isStandard&&e.push((0,E.Z)({accountId:t,isDelegating:!1},r.asStandard)),e)),e)),[])}(n,t),s=n.filter((([,e])=>e.isDelegating)).map((([e,t])=>[e,t.asDelegating]));return s.forEach((([t,{balance:r,conviction:n,target:a}])=>{const o=s.find((([e])=>e.eq(a))),c=i.find((({accountId:e})=>e.eq(o?o[0]:a)));c&&i.push({accountId:t,balance:r,isDelegating:!0,vote:e.registry.createType("Vote",{aye:c.vote.isAye,conviction:n})})})),i})))}function xr(e,t){return(0,ee.X)(e,(e=>(0,Z.a)([t.derive.democracy.sqrtElectorate(),(0,re.m)(t.query.democracy.votingOf)?br(t,e.index):wr(t,e.index)]).pipe((0,B.U)((([t,r])=>(0,sr.pn)(t,e,r))))))}function kr(e,t){return(0,ee.X)(e,(e=>e.length?(0,Z.a)(e.map((e=>t.derive.democracy._referendumVotes(e)))):(0,M.of)([])))}function Er(e,t){return(0,ee.X)(e,((e,r)=>{const n=(0,sr.lR)(r);return n?t.derive.democracy.preimage(n.proposal||n.proposalHash).pipe((0,B.U)((r=>({image:r,imageHash:(0,sr.Uc)(n),index:t.registry.createType("ReferendumIndex",e),status:n})))):(0,M.of)(null)}))}function Sr(e,t){return(0,ee.X)(e,(e=>e.length?t.query.democracy.referendumInfoOf.multi(e).pipe((0,R.w)((r=>(0,Z.a)(e.map(((e,n)=>t.derive.democracy._referendumInfo(e,r[n])))))),(0,B.U)((e=>e.filter((e=>!!e))))):(0,M.of)([])))}var qr=r(31283);function Ur(e,t){return(0,ee.X)(e,(()=>t.query.balances.totalIssuance().pipe((0,B.U)(qr.D))))}function Ar(e){return function(e){return!Array.isArray(e)}(e)?[e.who,e.stake]:e}function Ir(e){return function(e){return Array.isArray(e)}(e)?e[0]:e}function Tr([,e],[,t]){return t.cmp(e)}function Cr(e,t){return(0,ee.X)(e,(()=>{const[e,r]=function(e){const[t]=e.registry.getModuleInstances(e.runtimeVersion.specName,"council")||["council"],r=e.query.phragmenElection?"phragmenElection":e.query.electionsPhragmen?"electionsPhragmen":e.query.elections?"elections":null;return[e.query[t]?t:"council",r]}(t);return(r?function(e,t,r){return e.queryMulti([e.query[t].members,e.query[r].candidates,e.query[r].members,e.query[r].runnersUp])}(t,e,r):function(e,t){return(0,Z.a)([e.query[t].members(),(0,M.of)([]),(0,M.of)([]),(0,M.of)([])])}(t,e)).pipe((0,B.U)((([e,n,i,s])=>(0,E.Z)({},function(e,t){return t?{candidacyBond:e.consts[t].candidacyBond,desiredRunnersUp:e.consts[t].desiredRunnersUp,desiredSeats:e.consts[t].desiredMembers,termDuration:e.consts[t].termDuration,votingBond:e.consts[t].votingBond,votingBondBase:e.consts[t].votingBondBase,votingBondFactor:e.consts[t].votingBondFactor}:{}}(t,r),{candidateCount:t.registry.createType("u32",n.length),candidates:n.map(Ir),members:i.length?i.map(Ar).sort(Tr):e.map((e=>[e,t.registry.createType("Balance")])),runnersUp:s.map(Ar).sort(Tr)}))))}))}function Rr([e,t,r,n]){return t.forEach(((t,i)=>{const s=t.toString(),a=n[i],o=!r[i].isEmpty,c=e[s];c&&c.hasMessage===o&&c.blockCount.eq(a)||(e[s]={blockCount:a,hasMessage:o,isOnline:o||a.gt($.nw)})})),e}function Mr(e,t){return(0,ee.X)(e,(()=>t.query.imOnline?.receivedHeartbeats?t.derive.staking.overview().pipe((0,R.w)((({currentIndex:e,validators:r})=>(0,Z.a)([(0,M.of)({}),(0,M.of)(r),t.query.imOnline.receivedHeartbeats.multi(r.map(((t,r)=>[e,r]))),t.query.imOnline.authoredBlocks.multi(r.map((t=>[e,t])))]))),(0,B.U)(Rr)):(0,M.of)({})))}const Br=qe("membership"),Pr=Ie("membership"),Hr=Ce("membership"),Or=Re("membership"),Dr=Me("membership"),Vr=Te("membership"),Nr=Be("membership");function $r(e,t){return!!e.isSome&&e.unwrap().some((e=>e.eq(t)))}function Xr(e,t){const r=t.find((([t])=>t===e));if(r&&r[1].isSome){const[e,t]=r[1].unwrap();return(0,E.Z)({collatorId:e},t.isWithRetries?{isRetriable:!0,retries:t.asWithRetries.toNumber()}:{isRetriable:!1,retries:0})}return null}function Lr(e,t){return t.map((t=>{const r=t.find((([t])=>t===e));return r?r[1]:null}))}function jr(e,t){return(0,ee.X)(e,(e=>t.query.registrar&&t.query.parachains?t.queryMulti([t.query.registrar.active,t.query.registrar.retryQueue,t.query.registrar.selectedThreads,t.query.parachains.didUpdate,[t.query.registrar.paras,e],[t.query.registrar.pendingSwap,e],[t.query.parachains.heads,e],[t.query.parachains.relayDispatchQueue,e]]).pipe((0,B.U)((r=>function(e,[t,r,n,i,s,a,o,c]){return s.isNone?null:{active:Xr(e,t),didUpdate:$r(i,e),heads:o,id:e,info:(0,E.Z)({id:e},s.unwrap()),pendingSwapId:a.unwrapOr(null),relayDispatchQueue:c,retryCollators:Lr(e,r),selectedCollators:Lr(e,n)}}(t.registry.createType("ParaId",e),r)))):(0,M.of)(null)))}function Wr([e,t,r,n,i]){return e.map(((e,s)=>({didUpdate:$r(t,e),id:e,info:(0,E.Z)({id:e},n[s].unwrapOr(null)),pendingSwapId:i[s].unwrapOr(null),relayDispatchQueueSize:r[s][0].toNumber()})))}function Fr(e,t){return(0,ee.X)(e,(()=>t.query.registrar?.parachains&&t.query.parachains?t.query.registrar.parachains().pipe((0,R.w)((e=>(0,Z.a)([(0,M.of)(e),t.query.parachains.didUpdate(),t.query.parachains.relayDispatchQueueSize.multi(e),t.query.registrar.paras.multi(e),t.query.registrar.pendingSwap.multi(e)]))),(0,B.U)(Wr)):(0,M.of)([])))}function Zr([e,t,r,n,i]){return{activeEra:t,activeEraStart:r,currentEra:n,currentIndex:e,validatorCount:i}}function zr(e,t){return(0,ee.X)(e,(()=>t.query.session?t.query.staking?function(e){return e.queryMulti([e.query.session.currentIndex,e.query.staking.activeEra,e.query.staking.currentEra,e.query.staking.validatorCount]).pipe((0,B.U)((([e,t,r,n])=>{const{index:i,start:s}=t.unwrapOrDefault();return Zr([e,i,s,r.unwrapOrDefault(),n])})))}(t):function(e){return e.query.session.currentIndex().pipe((0,B.U)((t=>Zr([t,e.registry.createType("EraIndex"),e.registry.createType("Option<Moment>"),e.registry.createType("EraIndex"),e.registry.createType("u32")]))))}(t):function(e){return(0,M.of)(Zr([e.registry.createType("SessionIndex",1),e.registry.createType("EraIndex"),e.registry.createType("Option<Moment>"),e.registry.createType("EraIndex"),e.registry.createType("u32")]))}(t)))}function Kr(e,t){return(0,ee.X)(e,(()=>t.derive.session.indexes().pipe((0,B.U)((e=>{const r=t.consts?.babe?.epochDuration||t.registry.createType("u64",1),n=t.consts?.staking?.sessionsPerEra||t.registry.createType("SessionIndex",1);return(0,E.Z)({eraLength:t.registry.createType("BlockNumber",n.mul(r)),isEpoch:!!t.query.babe,sessionLength:r,sessionsPerEra:n},e)})))))}function Gr(e){return(t,r)=>(0,ee.X)(t,(()=>r.derive.session.progress().pipe((0,B.U)((t=>t[e])))))}function Jr(e,t){return(0,ee.X)(e,(()=>t.query.babe?function(e){return e.derive.session.info().pipe((0,R.w)((t=>(0,Z.a)([(0,M.of)(t),e.query.staking?.erasStartSessionIndex?e.queryMulti([e.query.babe.currentSlot,e.query.babe.epochIndex,e.query.babe.genesisSlot,[e.query.staking.erasStartSessionIndex,t.activeEra]]):e.queryMulti([e.query.babe.currentSlot,e.query.babe.epochIndex,e.query.babe.genesisSlot])]))),(0,B.U)((([t,[r,n,i,s]])=>[t,[r,n,i,s&&s.isSome?s.unwrap():e.registry.createType("SessionIndex",1)]])))}(t).pipe((0,B.U)((([e,r])=>function(e,t,[r,n,i,s]){const a=n.mul(t.sessionLength).iadd(i),o=r.sub(a),c=t.currentIndex.sub(s).imul(t.sessionLength).iadd(o);return(0,E.Z)({eraProgress:e.registry.createType("BlockNumber",c),sessionProgress:e.registry.createType("BlockNumber",o)},t)}(t,e,r)))):function(e){return e.derive.session.info().pipe((0,B.U)((t=>(0,E.Z)({eraProgress:e.registry.createType("BlockNumber"),sessionProgress:e.registry.createType("BlockNumber")},t))))}(t)))}const Qr=Gr("eraLength"),Yr=Gr("eraProgress"),en=Gr("sessionProgress");function tn(e,t){return(0,ee.X)(e,(()=>t.query.society.suspendedCandidates&&t.query.society.candidates.creator.meta.type.isPlain?function(e){return e.query.society.candidates().pipe((0,R.w)((t=>(0,Z.a)([(0,M.of)(t),e.query.society.suspendedCandidates.multi(t.map((({who:e})=>e)))]))),(0,B.U)((([e,t])=>e.map((({kind:e,value:r,who:n},i)=>({accountId:n,isSuspended:t[i].isSome,kind:e,value:r}))))))}(t):function(e){return e.query.society.candidates.entries().pipe((0,B.U)((e=>e.filter((([,e])=>e.isSome)).map((([{args:[e]},t])=>[e,t.unwrap()])).map((([e,{bid:t,kind:r}])=>({accountId:e,isSuspended:!1,kind:r,value:t}))))))}(t)))}function rn(e,t){return(0,ee.X)(e,(()=>(0,Z.a)([t.query.society.bids(),t.query.society.defender?t.query.society.defender():(0,M.of)(void 0),t.query.society.founder(),t.query.society.head(),t.query.society.maxMembers?t.query.society.maxMembers():(0,M.of)(void 0),t.query.society.pot()]).pipe((0,B.U)((([e,t,r,n,i,s])=>({bids:e,defender:t?.unwrapOr(void 0),founder:r.unwrapOr(void 0),hasDefender:t?.isSome&&n.isSome&&!n.eq(t)||!1,head:n.unwrapOr(void 0),maxMembers:i,pot:s}))))))}function nn(e,t){return(0,ee.X)(e,(e=>t.derive.society._members([e]).pipe((0,B.U)((([e])=>e)))))}function sn(e,t){return(0,ee.X)(e,(e=>t.query.society.members.creator.meta.type.isMap?function(e,t){return(0,Z.a)([(0,M.of)(t),e.query.society.members.multi(t),e.query.society.payouts.multi(t),e.query.society.challengeRoundCount().pipe((0,R.w)((r=>e.query.society.defenderVotes.multi(t.map((e=>[r,e])))))),e.query.society.suspendedMembers.multi(t)]).pipe((0,B.U)((([e,t,r,n,i])=>e.map(((e,s)=>t[s].isSome?{accountId:e,isDefenderVoter:n[s].isSome,isSuspended:i[s].isSome,member:t[s].unwrap(),payouts:r[s].payouts}:null)).filter((e=>!!e)).map((({accountId:e,isDefenderVoter:t,isSuspended:r,member:n,payouts:i})=>({accountId:e,isDefenderVoter:t,isSuspended:r,payouts:i,strikes:n.strikes,vouching:n.vouching.unwrapOr(void 0)}))))))}(t,e):function(e,t){return(0,Z.a)([(0,M.of)(t),e.query.society.payouts.multi(t),e.query.society.strikes.multi(t),e.query.society.defenderVotes.multi(t),e.query.society.suspendedMembers.multi(t),e.query.society.vouching.multi(t)]).pipe((0,B.U)((([e,t,r,n,i,s])=>e.map(((e,a)=>({accountId:e,isDefenderVoter:n[a].isSome,isSuspended:i[a].isTrue,payouts:t[a],strikes:r[a],vote:n[a].unwrapOr(void 0),vouching:s[a].unwrapOr(void 0)}))))))}(t,e)))}function an(e,t){return(0,ee.X)(e,(()=>t.query.society.members.creator.meta.type.isMap?t.query.society.members.keys().pipe((0,R.w)((e=>t.derive.society._members(e.map((({args:[e]})=>e)))))):t.query.society.members().pipe((0,R.w)((e=>t.derive.society._members(e))))))}const on={withDestination:!0,withLedger:!0,withNominations:!0,withPrefs:!0};function cn(e,t,r){const n=Object.entries((i=(t?.unlocking||[]).filter((({era:e})=>e.unwrap().gt(r.activeEra))),i.reduce(((e,{era:t,value:r})=>{const n=t.toString();return e[n]=(e[n]||$.nw).add(r.unwrap()),e}),{}))).map((([t,n])=>({remainingEras:new Je(t).isub(r.activeEra),value:e.registry.createType("Balance",n)})));var i;return n.length?n:void 0}function un(e,t,r){return e.registry.createType("Balance",(t?.unlocking||[]).reduce(((e,{era:t,value:n})=>t.unwrap().gt(r.currentEra)?e:e.iadd(n.unwrap())),new Je(0)))}function ln(e,t){return(0,ee.X)(e,((e,r=on)=>t.derive.session.info().pipe((0,R.w)((n=>(0,Z.a)([t.derive.staking.keysMulti(e),t.derive.staking.queryMulti(e,r)]).pipe((0,B.U)((([e,r])=>r.map(((r,i)=>function(e,t,r,n){return(0,E.Z)({},r,n,{redeemable:un(e,n.stakingLedger,t),unlocking:cn(e,n.stakingLedger,t)})}(t,n,e[i],r)))))))))))}const dn=ue(((e,t,r)=>e.derive.staking.accounts([t],r)));function pn(e,t){return(0,ee.X)(e,(()=>t.derive.session.indexes().pipe((0,R.w)((({activeEra:e})=>t.query.staking.erasRewardPoints(e))))))}const hn={withController:!0,withExposure:!0,withPrefs:!0};function gn(e,t){return(0,ee.X)(e,((e=hn,r=0)=>t.derive.staking.validators().pipe((0,R.w)((({nextElected:n,validators:i})=>t.derive.staking.queryMulti(function(e,t){return(0,zt.a)([e,t.filter((t=>!e.find((e=>e.eq(t)))))])}(n,i),e,r).pipe((0,B.U)((e=>({info:e,nextElected:n,validators:i})))))))))}var yn=r(36733);function mn(e,t,r){const n=`${e}-${t.toString()}`;return[n,r?void 0:yn.G.get(n)]}function fn(e,t,r){return r?[]:t.map((t=>yn.G.get(`${e}-${t.toString()}`))).filter((e=>!!e))}function _n(e,t,r){return!t&&yn.G.set(e,r),r}function vn(e,t,r){return!t&&r.forEach((t=>yn.G.set(`${e}-${t.era.toString()}`,t))),r}function wn(e,t,r){return e.map((e=>t.find((({era:t})=>e.eq(t)))||r.find((({era:t})=>e.eq(t))))).filter((e=>!!e))}var bn=r(18877);function xn(e,t){return e.filter((e=>!t.some((({era:t})=>e.eq(t)))))}function kn(e){return(t,r)=>(0,ee.X)(t,((t=!1)=>r.derive.staking.erasHistoric(t).pipe((0,R.w)((n=>r.derive.staking[e](n,t))))))}function En(e){return(t,r)=>(0,ee.X)(t,((t,n=!1,i)=>r.derive.staking.erasHistoric(n).pipe((0,R.w)((s=>r.derive.staking[e](t,s,n,i||0))))))}function Sn(e){return(t,r)=>(0,ee.X)(t,(t=>r.derive.staking[e](t,!0)))}function qn(e){return(t,r)=>(0,ee.X)(t,((t,n)=>t.length?function(e,t){const r=(0,bn.Z)(e,14);let n=0;const i=new F.X(r[n]);return i.pipe((0,R.w)(t),(0,z.b)((()=>{(0,Ke.Y)((()=>{n++,n===r.length?i.complete():i.next(r[n])}))})),(0,K.q)(),(0,B.U)(zt.a))}(t,(t=>(0,Z.a)(t.map((t=>r.derive.staking[e](t,n)))))):(0,M.of)([])))}const Un="eraExposure";function An(e,t){return(0,ee.X)(e,((e,r=!1)=>{const[n,i]=mn(Un,e,r);return i?(0,M.of)(i):t.query.staking.erasStakersPaged?t.query.staking.erasStakersPaged.entries(e).pipe((0,B.U)((t=>_n(n,r,function(e,t){const r={},n={};return t.forEach((([e,t])=>{if(t.isSome){const i=e.args[1].toString(),s=t.unwrap();n[i]=s,s.others.forEach((({who:e},t)=>{const n=e.toString();r[n]=r[n]||[],r[n].push({validatorId:i,validatorIndex:t})}))}})),{era:e,nominators:r,validators:n}}(e,t))))):t.query.staking.erasStakersClipped.entries(e).pipe((0,B.U)((t=>_n(n,r,function(e,t){const r={},n={};return t.forEach((([e,t])=>{const i=e.args[1].toString();n[i]=t,t.others.forEach((({who:e},t)=>{const n=e.toString();r[n]=r[n]||[],r[n].push({validatorId:i,validatorIndex:t})}))})),{era:e,nominators:r,validators:n}}(e,t)))))}))}const In=Sn("_eraExposure"),Tn=qn("_eraExposure"),Cn=kn("_erasExposure");function Rn(e,t){return(0,ee.X)(e,(e=>(0,Z.a)([t.query.staking.activeEra(),t.consts.staking.historyDepth?(0,M.of)(t.consts.staking.historyDepth):t.query.staking.historyDepth()]).pipe((0,B.U)((([r,n])=>{const i=[],s=n.toNumber(),a=r.unwrapOrDefault().index;let o=a;for(;o.gte($.nw)&&i.length<s;)o===a&&!0!==e||i.push(t.registry.createType("EraIndex",o)),o=o.sub($.If);return i.reverse()})))))}const Mn="eraPoints";function Bn({individual:e}){return[...e.entries()].filter((([,e])=>e.gt($.nw))).reduce(((e,[t,r])=>(e[t.toString()]=r,e)),{})}function Pn(e,t){return(0,ee.X)(e,((e,r)=>{if(!e.length)return(0,M.of)([]);const n=fn(Mn,e,r),i=xn(e,n);return i.length?t.query.staking.erasRewardPoints.multi(i).pipe((0,B.U)((t=>wn(e,n,vn(Mn,r,function(e,t){return e.map(((e,r)=>({era:e,eraPoints:t[r].total,validators:Bn(t[r])})))}(i,t)))))):(0,M.of)(n)}))}const Hn=kn("_erasPoints"),On="eraPrefs";function Dn(e,t){return(0,ee.X)(e,((e,r)=>{const[n,i]=mn(On,e,r);return i?(0,M.of)(i):t.query.staking.erasValidatorPrefs.entries(e).pipe((0,B.U)((t=>_n(n,r,function(e,t){const r={};return t.forEach((([e,t])=>{r[e.args[1].toString()]=t})),{era:e,validators:r}}(e,t)))))}))}const Vn=Sn("_eraPrefs"),Nn=qn("_eraPrefs"),$n=kn("_erasPrefs"),Xn="eraRewards";function Ln(e,t){return(0,ee.X)(e,((e,r)=>{if(!e.length)return(0,M.of)([]);const n=fn(Xn,e,r),i=xn(e,n);return i.length?t.query.staking.erasValidatorReward.multi(i).pipe((0,B.U)((t=>wn(e,n,vn(Xn,r,function(e,t){return e.map(((e,r)=>({era:e,eraReward:t[r].unwrapOrDefault()})))}(i,t)))))):(0,M.of)(n)}))}const jn=kn("_erasRewards"),Wn="eraSlashes";function Fn(e,t){return(0,ee.X)(e,((e,r)=>{const[n,i]=mn(Wn,e,r);return i?(0,M.of)(i):(0,Z.a)([t.query.staking.nominatorSlashInEra.entries(e),t.query.staking.validatorSlashInEra.entries(e)]).pipe((0,B.U)((([t,i])=>_n(n,r,function(e,t,r){const n={},i={};return t.forEach((([e,t])=>{n[e.args[1].toString()]=t.unwrap()})),r.forEach((([e,t])=>{i[e.args[1].toString()]=t.unwrapOrDefault()[1]})),{era:e,nominators:n,validators:i}}(e,t,i)))))}))}const Zn=Sn("_eraSlashes"),zn=qn("_eraSlashes"),Kn=kn("_erasSlashes"),Gn=ue(((e,t)=>e.derive.staking.keysMulti([t])));function Jn(e,t){return(0,ee.X)(e,(e=>e.length?t.query.session.queuedKeys().pipe((0,R.w)((r=>(0,Z.a)([(0,M.of)(r),t.consts.session?.dedupKeyPrefix?t.query.session.nextKeys.multi(e.map((e=>[t.consts.session.dedupKeyPrefix,e]))):(0,Z.a)(e.map((e=>t.query.session.nextKeys(e))))]))),(0,B.U)((([t,r])=>e.map(((e,n)=>function(e,t,r){const n=(t.find((([t])=>t.eq(e)))||[void 0,[]])[1],i=r.unwrapOr([]);return{nextSessionIds:Array.isArray(i)?i:[...i.values()],sessionIds:Array.isArray(n)?n:[...n.values()]}}(e,t,r[n])))))):(0,M.of)([])))}function Qn(e,t){return(0,ee.X)(e,(()=>(0,Z.a)([t.derive.session.indexes(),t.derive.staking.validators()]).pipe((0,B.U)((([e,{nextElected:t,validators:r}])=>(0,E.Z)({},e,{nextElected:t,validators:r}))))))}function Yn(e,t){return(0,ee.X)(e,((e,r,n,i)=>{const s=t.registry.createType("Exposure"),a=t.registry.createType("Option<Null>"),o=t.registry.createType("Option<Null>");return r.length?(0,Z.a)([t.query.staking.erasStakersClipped?(0,Z.a)(r.map((r=>t.query.staking.erasStakersClipped(r,e)))):(0,M.of)(r.map((e=>s))),t.query.staking.erasStakers?(0,Z.a)(r.map((r=>t.query.staking.erasStakers(r,e)))):(0,M.of)(r.map((e=>s))),t.query.staking.erasStakersPaged?(0,Z.a)(r.map((r=>t.query.staking.erasStakersPaged(r,e,i)))):(0,M.of)(r.map((e=>a))),t.query.staking.erasStakersOverview?(0,Z.a)(r.map((r=>t.query.staking.erasStakersOverview(r,e)))):(0,M.of)(r.map((e=>o)))]).pipe((0,B.U)((([e,t,n,i])=>r.map(((r,s)=>({clipped:e[s],era:r,exposure:t[s],exposureMeta:i[s],exposurePaged:n[s]})))))):(0,M.of)([])}))}const ei=ue(((e,t,r,n)=>e.derive.staking._ownExposures(t,[r],!0,n||0))),ti=En("_ownExposures");function ri(e,t){return(0,ee.X)(e,((e,r,n)=>r.length?(0,Z.a)([(0,Z.a)(r.map((r=>t.query.staking.validatorSlashInEra(r,e)))),(0,Z.a)(r.map((r=>t.query.staking.nominatorSlashInEra(r,e))))]).pipe((0,B.U)((([e,t])=>r.map(((r,n)=>({era:r,total:e[n].isSome?e[n].unwrap()[1]:t[n].unwrapOrDefault()})))))):(0,M.of)([])))}const ni=ue(((e,t,r)=>e.derive.staking._ownSlashes(t,[r],!0))),ii=En("_ownSlashes");function si(e,t){return e.registry.createType("Vec<u32>",t.filter((e=>-1!==e)))}function ai(e,t,r,n,i){return function(e,t,r,{withClaimedRewardsEras:n,withController:i,withDestination:s,withExposure:a,withExposureErasStakersLegacy:o,withExposureMeta:c,withLedger:u,withNominations:l,withPrefs:d},p){const h=e.registry.createType("Option<Nominations>"),g=e.registry.createType("RewardDestination"),y=e.registry.createType("Exposure"),m=e.registry.createType("ValidatorPrefs"),f=e.registry.createType("Option<Null>"),_=e.registry.createType("Option<Null>"),v=[-1],w=Number(e.consts.staking.historyDepth.toNumber()),b=new Array(w).fill(0).map(((e,t)=>0===t?r.toNumber()-1:r.toNumber()-t-1));return(0,Z.a)([i||u?(0,Z.a)(t.map((t=>e.query.staking.bonded(t)))):(0,M.of)(t.map((()=>null))),l?(0,Z.a)(t.map((t=>e.query.staking.nominators(t)))):(0,M.of)(t.map((()=>h))),s?(0,Z.a)(t.map((t=>e.query.staking.payee(t)))):(0,M.of)(t.map((()=>g))),d?(0,Z.a)(t.map((t=>e.query.staking.validators(t)))):(0,M.of)(t.map((()=>m))),a&&e.query.staking.erasStakersPaged?(0,Z.a)(t.map((t=>e.query.staking.erasStakersPaged(r,t,p)))):(0,M.of)(t.map((()=>f))),c&&e.query.staking.erasStakersOverview?(0,Z.a)(t.map((t=>e.query.staking.erasStakersOverview(r,t)))):(0,M.of)(t.map((()=>_))),n&&e.query.staking.claimedRewards?(0,Z.a)([e.query.staking.claimedRewards.entries(),e.query.staking.erasStakersOverview.entries()]).pipe((0,B.U)((([e,r])=>function(e,t,r,n){const i={},s={},a=e.map((e=>e.toString()));return r.forEach((([e,t])=>{const r=e.args[1].toString(),n=e.args[0].toNumber();a.includes(r)&&(i[r]||(i[r]=new Map),i[r].set(n,t.toArray()))})),n.forEach((([e,t])=>{const r=e.args[1].toString(),n=e.args[0].toNumber();a.includes(r)&&t.isSome&&(s[r]||(s[r]=new Map),s[r].set(n,t.unwrap().pageCount))})),e.map((e=>{const r=i[e.toString()],n=s[e.toString()];return t.map((e=>{if(r&&r.has(e)&&n&&n.has(e)){const t=r.get(e),i=n.get(e);return t.length===i.toNumber()?e:-1}return-1}))}))}(t,b,e,r)))):(0,M.of)(t.map((()=>v))),o&&e.query.staking.erasStakers?(0,Z.a)(t.map((t=>e.query.staking.erasStakers(r,t)))):(0,M.of)(t.map((()=>y)))])}(e,r,t,n,i).pipe((0,R.w)((([t,i,s,a,o,c,u,l])=>function(e,t,{withLedger:r=!1}){const n=t.filter((e=>r&&!!e&&e.isSome)).map((e=>e.unwrap())),i=e.registry.createType("Option<StakingLedger>");return(n.length?(0,Z.a)(n.map((t=>e.query.staking.ledger(t)))):(0,M.of)([])).pipe((0,B.U)((e=>{let r=-1;return t.map((t=>t&&t.isSome&&e[++r]||i))})))}(e,t,n).pipe((0,B.U)((n=>r.map(((r,d)=>function(e,t,r,n,i,s,a,o,c,u,l){return{accountId:t,claimedRewardsEras:si(e,u),controllerId:r?.unwrapOr(null)||null,exposureEraStakers:l,exposureMeta:c,exposurePaged:a,nominators:n.isSome?n.unwrap().targets:[],rewardDestination:(d=i,"boolean"==typeof d.isSome?d.unwrapOr(null):d),stakingLedger:o.unwrapOrDefault(),stashId:t,validatorPrefs:s};var d}(e,r,t[d],i[d],s[d],a[d],o[d],n[d],c[d],u[d],l[d])))))))))}const oi=ue(((e,t,r,n)=>e.derive.staking.queryMulti([t],r,n)));function ci(e,t){return(0,ee.X)(e,((e,r,n)=>t.derive.session.indexes().pipe((0,R.w)((({activeEra:i})=>{const s=e.map((e=>t.registry.createType("AccountId",e))),a=n||0;return s.length?ai(t,i,s,r,a):(0,M.of)([])})))))}function ui(e,t){return(0,ee.X)(e,((e,r,n=!1)=>{const i=e.map((e=>t.registry.createType("AccountId",e).toString()));return t.derive.staking._erasExposure(r,n).pipe((0,B.U)((e=>i.map((t=>e.map((({era:e,nominators:r,validators:n})=>{const i=!!n[t],s={},a=r[t]||[];return i?s[t]=n[t]:a&&a.forEach((({validatorId:e})=>{s[e]=n[e]})),{era:e,isEmpty:!Object.keys(s).length,isValidator:i,nominating:a,validators:s}})))))))}))}function li(e,t){return(0,ee.X)(e,((e,r=!1)=>t.derive.staking.erasHistoric(r).pipe((0,R.w)((n=>t.derive.staking._stakerExposures(e,n,r))))))}const di=ue(((e,t,r)=>e.derive.staking.stakerExposures([t],r)));function pi(e,t){return(0,ee.X)(e,((e,r,n)=>{const i=t.registry.createType("AccountId",e).toString();return t.derive.staking._erasPoints(r,n).pipe((0,B.U)((e=>e.map((({era:e,eraPoints:r,validators:n})=>({era:e,eraPoints:r,points:n[i]||t.registry.createType("RewardPoint")}))))))}))}const hi=En("_stakerPoints");function gi(e,t){return(0,ee.X)(e,((e,r,n)=>t.query.staking.erasValidatorPrefs.multi(r.map((t=>[t,e]))).pipe((0,B.U)((e=>e.map(((e,t)=>({era:r[t],validatorPrefs:e}))))))))}const yi=En("_stakerPrefs");function mi(e,t){const r=t?(t.legacyClaimedRewards||t.claimedRewards).toArray():[];return e.toArray().concat(r)}function fi(e,t){return(0,ee.X)(e,((e,r=!1)=>(0,Z.a)([t.derive.staking._erasPoints(e,r),t.derive.staking._erasPrefs(e,r),t.derive.staking._erasRewards(e,r)])))}function _i(e,t){return(0,ee.X)(e,((e,r,n=!1)=>{const i=r.map((e=>"number"==typeof e||"string"==typeof e?t.registry.createType("u32",e):e));return(0,Z.a)([t.derive.staking.queryMulti(e,{withClaimedRewardsEras:!0,withLedger:!0}),t.derive.staking._stakerExposures(e,i,n),t.derive.staking._stakerRewardsEras(i,n)]).pipe((0,R.w)((([e,i,s])=>{const a=e.map((({claimedRewardsEras:e,stakingLedger:r,stashId:n},a)=>n&&(r||e)?function(e,t,[r,n,i],s,a){return s.map((({era:s,isEmpty:o,isValidator:c,nominating:u,validators:l})=>{const{eraPoints:d,validators:p}=r.find((e=>e.era.eq(s)))||{eraPoints:$.nw,validators:{}},{eraReward:h}=i.find((e=>e.era.eq(s)))||{eraReward:e.registry.createType("Balance")},{validators:g}=n.find((e=>e.era.eq(s)))||{validators:{}},y={},m=t.toString();return Object.entries(l).forEach((([t,r])=>{const n=p[t]||$.nw,i=g[t]?.commission.unwrap()||$.nw,s=r.total?r.total?.unwrap():r.pageTotal?r.pageTotal?.unwrap():$.nw;let a,o=$.nw;if(!(s.isZero()||n.isZero()||d.isZero())){o=h.mul(n).div(d);const e=i.mul(o).div($.ed);let c;if(t===m)if(r.own)c=r.own.unwrap();else{const e=r.others.find((({who:e})=>e.eq(t)));c=e?e.value.unwrap():$.nw}else{const e=r.others.find((({who:e})=>e.eq(m)));c=e?e.value.unwrap():$.nw}a=o.sub(e).imul(c).div(s).iadd(t===m?e:$.nw)}y[t]={total:e.registry.createType("Balance",o),value:e.registry.createType("Balance",a)}})),{era:s,eraReward:h,isClaimed:a.some((e=>e.eq(s))),isEmpty:o,isValidator:c,nominating:u,validators:y}}))}(t,n,s,i[a],e):[]));if(n)return(0,M.of)(a);const[o,c]=a.reduce((([e,t],r)=>{const n=[];return t.push(n),r.forEach((({validators:t})=>Object.keys(t).forEach((t=>{n.includes(t)||(n.push(t),e.includes(t)||e.push(t))})))),[e,t]}),[[],[]]);return t.derive.staking.queryMulti(o,{withClaimedRewardsEras:!0,withLedger:!0}).pipe((0,B.U)((t=>e.map((({claimedRewardsEras:e,stakingLedger:n},i)=>function(e,t,{claimedRewardsEras:r,rewards:n,stakingLedger:i}){const s=e.filter((e=>!mi(r,i).some((t=>t.eq(e))))),a=t.map((([e])=>e)),o=t.map((([,e])=>e));return n.filter((({isEmpty:e})=>!e)).filter((e=>!!s.some((t=>e.era.eq(t)))&&(function(e,t,r,n){const i=[];Object.keys(r.validators).forEach((s=>{const a=e.indexOf(s);if(-1!==a){const e=t[a].stakingLedger;mi(n,e).some((e=>r.era.eq(e)))&&i.push(s)}})),i.forEach((e=>{delete r.validators[e]}))}(a,o,e,r),!0))).filter((({validators:e})=>0!==Object.keys(e).length)).map((e=>{let t=e.isClaimed;const r=Object.keys(e.validators);if(!e.isClaimed&&r.length)for(const n of r){const r=o.find((e=>e.accountId.toString()===n));if(r){t=r.claimedRewardsEras.toArray().some((t=>t.eq(e.era)));break}}return(0,E.Z)({},e,{isClaimed:t,nominators:e.nominating.filter((t=>e.validators[t.validatorId]))})}))}(r,c[i].map((e=>[e,t.find((t=>t.accountId.eq(e)))])).filter((e=>!!e[1])),{claimedRewardsEras:e,rewards:a[i],stakingLedger:n}))))))})))}))}const vi=ue(((e,t,r)=>e.derive.staking.erasHistoric(r).pipe((0,R.w)((n=>e.derive.staking._stakerRewards([t],n,r))))));function wi(e,t){return(0,ee.X)(e,((e,r)=>e.length&&r.length?t.derive.staking._stakerRewards(e,r,!1):(0,M.of)([])))}function bi(e,t){return(0,ee.X)(e,((e,r=!1)=>t.derive.staking.erasHistoric(r).pipe((0,R.w)((r=>t.derive.staking.stakerRewardsMultiEras(e,r))))))}function xi(e,t){return(0,ee.X)(e,((e,r,n)=>{const i=t.registry.createType("AccountId",e).toString();return t.derive.staking._erasSlashes(r,n).pipe((0,B.U)((e=>e.map((({era:e,nominators:r,validators:n})=>({era:e,total:r[i]||n[i]||t.registry.createType("Balance")}))))))}))}const ki=En("_stakerSlashes");var Ei=r(92870);function Si(e,t){return(0,ee.X)(e,(()=>function(e){let t=Date.now();return e.query.system.events().pipe((0,B.U)((e=>(t=e.filter((({event:e,phase:t})=>{try{return t.isApplyExtrinsic&&"staking"===e.section&&"Bonded"===e.method}catch{return!1}}))?Date.now():t,t))),(0,_e.O)(t),(0,Ei.h)({skipTimeout:!0}))}(t).pipe((0,R.w)((()=>t.query.staking.validators.keys())),(0,B.U)((e=>e.map((({args:[e]})=>e)).filter((e=>e)))))))}function qi(e,t){return(0,ee.X)(e,(()=>t.query.staking.erasStakersOverview?t.derive.session.indexes().pipe((0,R.w)((({currentEra:e})=>t.query.staking.erasStakersOverview.keys(e))),(0,B.U)((e=>[...new Set(e.map((({args:[,e]})=>e.toString())))].map((e=>t.registry.createType("AccountId",e)))))):t.query.staking.erasStakers?t.derive.session.indexes().pipe((0,R.w)((({currentEra:e})=>t.query.staking.erasStakers.keys(e))),(0,B.U)((e=>[...new Set(e.map((({args:[,e]})=>e.toString())))].map((e=>t.registry.createType("AccountId",e)))))):t.query.staking.currentElected()))}function Ui(e,t){return(0,ee.X)(e,(()=>(0,Z.a)([t.query.session?t.query.session.validators():(0,M.of)([]),t.query.staking?t.derive.staking.nextElected():(0,M.of)([])]).pipe((0,B.U)((([e,t])=>({nextElected:t.length?t:e,validators:e}))))))}const Ai={withController:!0,withPrefs:!0};function Ii(e,t){return(0,ee.X)(e,((e=Ai)=>(0,Z.a)([t.derive.staking.validators(),t.derive.staking.stashes()]).pipe((0,R.w)((([{nextElected:r},n])=>{const i=r.map((e=>e.toString())),s=n.filter((e=>!i.includes(e.toString())));return t.derive.staking.queryMulti(s,e).pipe((0,B.U)((e=>({info:e,waiting:s}))))})))))}const Ti=qe("technicalCommittee"),Ci=Ie("technicalCommittee"),Ri=Ce("technicalCommittee"),Mi=Re("technicalCommittee"),Bi=Me("technicalCommittee"),Pi=Te("technicalCommittee"),Hi=Be("technicalCommittee");function Oi(e,t){return(0,ee.X)(e,(()=>t.query.treasury?(0,Z.a)([t.query.treasury.proposalCount(),t.query.treasury.approvals()]).pipe((0,R.w)((([e,r])=>function(e,t,r){const n=[],i=t.toNumber();for(let t=0;t<i;t++)r.some((e=>e.eqn(t)))||n.push(e.registry.createType("ProposalIndex",t));const s=[...n,...r];return(0,Z.a)([e.query.treasury.proposals.multi(s),e.derive.council?e.derive.council.proposals():(0,M.of)([])]).pipe((0,B.U)((([n,i])=>function(e,{allIds:t,allProposals:r,approvalIds:n,councilProposals:i,proposalCount:s}){const a=[],o=[],c=i.filter((({proposal:t})=>t&&(e.tx.treasury.approveProposal&&e.tx.treasury.approveProposal.is(t)||e.tx.treasury.rejectProposal&&e.tx.treasury.rejectProposal.is(t))));return t.forEach(((e,t)=>{if(r[t].isSome){const i=c.filter((({proposal:t})=>t&&e.eq(t.args[0]))).sort(((e,t)=>e.proposal&&t.proposal?e.proposal.method.localeCompare(t.proposal.method):e.proposal?-1:1)),s=n.some((t=>t.eq(e))),u={council:i,id:e,proposal:r[t].unwrap()};s?a.push(u):o.push(u)}})),{approvals:a,proposalCount:s,proposals:o}}(e,{allIds:s,allProposals:n,approvalIds:r,councilProposals:i,proposalCount:t}))))}(t,e,r)))):(0,M.of)({approvals:[],proposalCount:t.registry.createType("ProposalIndex"),proposals:[]})))}function Di(e,t){return(0,ee.X)(e,(e=>(0,Z.a)([t.rpc.chain.getBlock(e),t.queryAt(e).pipe((0,R.w)((e=>e.system.events())))]).pipe((0,B.U)((([e,t])=>({block:e,events:t}))))))}var Vi=r(65968),Ni=r(44604);const $i=250,Xi=new Je(6e3),Li=new Je(5),ji=new Je(3e5);function Wi(e,t){return e.derive.balances.account(t).pipe((0,B.U)((({accountNonce:e})=>e)))}function Fi(e,t){return e.call.accountNonceApi?e.call.accountNonceApi.accountNonce(t):e.rpc.system?.accountNextIndex?e.rpc.system.accountNextIndex(t):Wi(e,t)}function Zi(e){return(0,Z.a)([e.rpc.chain.getHeader().pipe((0,R.w)((t=>t.parentHash.isEmpty?(0,M.of)(t):e.rpc.chain.getHeader(t.parentHash).pipe((0,Ue.K)((()=>(0,M.of)(t))))))),e.rpc.chain.getFinalizedHead().pipe((0,R.w)((t=>e.rpc.chain.getHeader(t).pipe((0,Ue.K)((()=>(0,M.of)(null)))))))]).pipe((0,B.U)((([e,t])=>!t||(0,Ni.E)(e).sub((0,Ni.E)(t)).gt(Li)?e:t)))}function zi(e){const t=e.consts.babe?.expectedBlockTime||e.consts.aura?.slotDuration||e.consts.timestamp?.minimumPeriod.muln(2);return t&&t.isZero&&!t.isZero()?t:void 0}function Ki(e,t){return(e,r,n)=>(0,Z.a)([(0,N.o)(r)?Wi(t,e):-1===r?Fi(t,e):(0,M.of)(t.registry.createType("Index",r)),(0,N.o)(n)||(0,Vi.h)(n)&&n>0?Zi(t):(0,M.of)(null)]).pipe((0,B.U)((([e,r])=>({header:r,mortalLength:Math.min(t.consts.system?.blockHashCount?.toNumber()||$i,ji.div(zi(t)||Xi).iadd(Li).toNumber()),nonce:e}))))}const Gi={accounts:n,alliance:i,bagsList:s,balances:a,bounties:o,chain:c,contracts:u,council:l,crowdloan:d,democracy:p,elections:h,imOnline:g,membership:y,parachains:m,session:f,society:_,staking:v,technicalCommittee:w,treasury:b,tx:x},Ji={allianceMotion:{instances:["allianceMotion"],methods:[]},bagsList:{instances:["voterBagsList","voterList","bagsList"],methods:[],withDetect:!0},contracts:{instances:["contracts"],methods:[]},council:{instances:["council"],methods:[],withDetect:!0},crowdloan:{instances:["crowdloan"],methods:[]},democracy:{instances:["democracy"],methods:[]},elections:{instances:["phragmenElection","electionsPhragmen","elections","council"],methods:[],withDetect:!0},imOnline:{instances:["imOnline"],methods:[]},membership:{instances:["membership"],methods:[]},parachains:{instances:["parachains","registrar"],methods:[]},session:{instances:["session"],methods:[]},society:{instances:["society"],methods:[]},staking:{instances:["staking"],methods:["erasRewardPoints"]},technicalCommittee:{instances:["technicalCommittee"],methods:[],withDetect:!0},treasury:{instances:["treasury"],methods:[]}};function Qi(e,t,r){const n={},i=Object.keys(r),s=Object.keys(t.query),a=t.runtimeVersion.specName,o=e=>s.includes(e),c=e=>function(e,t,r){return e.registry.getModuleInstances(t,r)||[]}(t,a,e).some(o),u=e=>Object.keys(r[e]),l=(n,i)=>r[n][i](e,t),d=e=>{return!Ji[e]||Ji[e].instances.some(o)&&(!Ji[e].methods.length||Ji[e].methods.every((r=Ji[e].instances,e=>r.some((r=>s.includes(r)&&t.query[r][e])))))||Ji[e].withDetect&&Ji[e].instances.some(c);var r};for(let e=0,t=i.length;e<t;e++){const t=i[e];d(t)&&J(n,t,u,l)}return n}var Yi=r(6369),es=r(42582),ts=r(32085),rs=r(47326),ns=r(9286),is=r(30242),ss=r(69543),as=r(84789),os=r(10119),cs=r(62355),us=r(6485);function ls(e){return(0,re.m)(e.sign)}var ds=r(57826);const ps=(0,D.k)("api/util");function hs(e,{block:{extrinsics:t,header:r}},n,i){for(const[i,s]of t.entries())if(s.hash.eq(e))return{blockNumber:(0,ds.f)(r.number)?r.number.unwrap():r.number,events:n.filter((({phase:e})=>e.isApplyExtrinsic&&e.asApplyExtrinsic.eqn(i))),txIndex:i};if(i.isInBlock){const n=t.map((e=>e.hash.toHex()));ps.warn(`block ${r.hash.toHex()}: Unable to find extrinsic ${e.toHex()} inside ${n.join(", ")}`)}return{}}var gs=r(89492);function ys(e,t,r,{header:n,mortalLength:i,nonce:s}){if(!n){if(r.era&&!r.blockHash)throw new Error("Expected blockHash to be passed alongside non-immortal era options");return(0,Vi.h)(r.era)&&(delete r.era,delete r.blockHash),fs(e,r,{nonce:s})}return fs(e,r,{blockHash:n.hash,era:t.createTypeUnsafe("ExtrinsicEra",[{current:n.number,period:r.era||i}]),nonce:s})}function ms(e,t){let r={};return(0,re.m)(e)?t=e:r=(0,E.Z)({},e),[r,t]}function fs(e,t,r){return(0,E.Z)({blockHash:e.genesisHash,genesisHash:e.genesisHash},t,r,{runtimeVersion:e.runtimeVersion,signedExtensions:e.registry.signedExtensions,version:e.extrinsicType})}function _s(e,t,r,n,i){const s=function({api:e,apiType:t,blockHash:r,decorateMethod:n}){const i=e.registry.createClass("Extrinsic");return class extends i{__internal__ignoreStatusCb;__internal__transformResult=k.y;constructor(r,n){super(r,n,{version:e.extrinsicType}),this.__internal__ignoreStatusCb="rxjs"===t}get hasDryRun(){return(0,re.m)(e.rpc.system?.dryRun)}get hasPaymentInfo(){return(0,re.m)(e.call.transactionPaymentApi?.queryInfo)}dryRun(t,i){if(!this.hasDryRun)throw new Error("The system.dryRun RPC call is not available in your environment");return r||(0,S.H)(i)||(0,Q.U)(i)?n((()=>e.rpc.system.dryRun(this.toHex(),r||i))):n((()=>this.__internal__observeSign(t,i).pipe((0,R.w)((()=>e.rpc.system.dryRun(this.toHex()))))))()}paymentInfo(t,i){if(!this.hasPaymentInfo)throw new Error("The transactionPaymentApi.queryInfo runtime call is not available in your environment");if(r||(0,S.H)(i)||(0,Q.U)(i))return n((()=>e.callAt(r||i).pipe((0,R.w)((e=>{const t=this.toU8a();return e.transactionPaymentApi.queryInfo(t,t.length)})))));const[s]=ms(i),a=ls(t)?t.address:t.toString();return n((()=>e.derive.tx.signingInfo(a,s.nonce,s.era).pipe((0,os.P)(),(0,R.w)((t=>{const r=ys(e,this.registry,s,t),n=fs(e,r,{}),i=e.tx(this.toU8a()).signFake(a,n).toU8a();return e.call.transactionPaymentApi.queryInfo(i,i.length)})))))()}send(t){const r=e.hasSubscriptions&&(this.__internal__ignoreStatusCb||!!t);return n(r?this.__internal__observeSubscribe:this.__internal__observeSend)(t)}signAsync(e,t){return n((()=>this.__internal__observeSign(e,t).pipe((0,B.U)((()=>this)))))()}signAndSend(t,r,i){const[s,a]=ms(r,i),o=e.hasSubscriptions&&(this.__internal__ignoreStatusCb||!!a);return n((()=>this.__internal__observeSign(t,s).pipe((0,R.w)((e=>o?this.__internal__observeSubscribe(e):this.__internal__observeSend(e))))))(a)}withResultTransform(e){return this.__internal__transformResult=e,this}__internal__observeSign=(t,r)=>{const n=ls(t)?t.address:t.toString(),i=function(e={}){return(0,us.H)(e)||(0,Vi.h)(e)?{nonce:e}:e}(r);return e.derive.tx.signingInfo(n,i.nonce,i.era).pipe((0,os.P)(),(0,cs.z)((async r=>{const s=ys(e,this.registry,i,r);let a=-1,o=null;if(ls(t))this.sign(t,s);else{const e=await this.__internal__signViaSigner(n,s,r.header);a=e.id,e.signedTransaction&&(o=e.signedTransaction)}return{options:s,signedTransaction:o,updateId:a}})))};__internal__observeStatus=(t,r)=>{if(!r.isFinalized&&!r.isInBlock)return(0,M.of)(this.__internal__transformResult(new gs.h({status:r,txHash:t})));const n=r.isInBlock?r.asInBlock:r.asFinalized;return e.derive.tx.events(n).pipe((0,B.U)((({block:e,events:n})=>this.__internal__transformResult(new gs.h({...hs(t,e,n,r),status:r,txHash:t})))),(0,Ue.K)((e=>(0,M.of)(this.__internal__transformResult(new gs.h({internalError:e,status:r,txHash:t}))))))};__internal__observeSend=t=>e.rpc.author.submitExtrinsic(t?.signedTransaction||this).pipe((0,z.b)((e=>{this.__internal__updateSigner(e,t)})));__internal__observeSubscribe=t=>{const r=this.hash;return e.rpc.author.submitAndWatchExtrinsic(t?.signedTransaction||this).pipe((0,R.w)((e=>this.__internal__observeStatus(r,e))),(0,z.b)((e=>{this.__internal__updateSigner(e,t)})))};__internal__signViaSigner=async(t,r,n)=>{const i=r.signer||e.signer,s=r.allowCallDataAlteration??!0;if(!i)throw new Error("No signer specified, either via api.setSigner or via sign options. You possibly need to pass through an explicit keypair for the origin so it can be used for signing.");const a=this.registry.createTypeUnsafe("SignerPayload",[(0,E.Z)({},r,{address:t,blockNumber:n?n.number:0,method:this.method})]);let o;if((0,re.m)(i.signPayload)){if(o=await i.signPayload(a.toPayload()),o.signedTransaction&&!r.withSignedTransaction)throw new Error("The `signedTransaction` field may not be submitted when `withSignedTransaction` is disabled");if(o.signedTransaction&&r.withSignedTransaction){const e=this.registry.createTypeUnsafe("Extrinsic",[o.signedTransaction]),r=this.registry.createTypeUnsafe("SignerPayload",[(0,E.Z)({},{address:t,assetId:e.assetId&&e.assetId.isSome?e.assetId.toHex():null,blockHash:a.blockHash,blockNumber:n?n.number:0,era:e.era.toHex(),genesisHash:a.genesisHash,metadataHash:e.metadataHash?e.metadataHash.toHex():null,method:e.method.toHex(),mode:e.mode?e.mode.toHex():null,nonce:e.nonce.toHex(),runtimeVersion:a.runtimeVersion,signedExtensions:a.signedExtensions,tip:e.tip?e.tip.toHex():null,version:a.version})]);if(!e.isSigned)throw new Error(`When using the signedTransaction field, the transaction must be signed. Recieved isSigned: ${e.isSigned}`);return s||this.__internal__validateSignedTransaction(a,e),super.addSignature(t,o.signature,r.toPayload()),{id:o.id,signedTransaction:o.signedTransaction}}}else{if(!(0,re.m)(i.signRaw))throw new Error("Invalid signer interface, it should implement either signPayload or signRaw (or both)");o=await i.signRaw(a.toRaw())}return super.addSignature(t,o.signature,a.toPayload()),{id:o.id}};__internal__updateSigner=(t,r)=>{if(r&&-1!==r.updateId){const{options:n,updateId:i}=r,s=n.signer||e.signer;s&&(0,re.m)(s.update)&&s.update(i,t)}};__internal__validateSignedTransaction=(e,t)=>{if(e.toPayload().method!==t.method.toHex())throw new Error("signAndSend: call data does not match the original payload")}}}({api:t,apiType:e,blockHash:i,decorateMethod:r});return e=>new s(n||t.registry,e)}var vs=r(36879);const ws=(0,D.k)("api/augment");function bs(e,t,r=[]){return t.length?` ${t.length} ${e}${r.length?" and":""}`:""}function xs(e,t){return t.length?`\n\t${e.padStart(7)}: ${t.sort().join(", ")}`:""}function ks(e,t,[r,n]){(r.length||n.length)&&ws.warn(`api.${e}: Found${bs("added",r,n)}${bs("removed",n)} ${t}:${xs("added",r)}${xs("removed",n)}`)}function Es(e,t){return e.filter((e=>!t.includes(e)))}function Ss(e,t){const r=Object.keys(e),n=(i=Object.keys(t),s=r,i.filter((e=>s.includes(e))));var i,s;const a=[];for(let r=0,i=n.length;r<i;r++){const i=n[r],s=Object.keys(e[i]),o=Object.keys(t[i]);for(let e=0,t=o.length;e<t;e++){const t=o[e];s.includes(t)||a.push(`${i}.${t}`)}}return a}function qs(e,t,r,n=!1){n&&(0,vs.n)(r),e&&Object.keys(r).length&&(ks(e,"modules",function(e,t){const r=Object.keys(e),n=Object.keys(t);return[Es(r,n),Es(n,r)]}(t,r)),ks(e,"calls",function(e,t){return[Ss(t,e),Ss(e,t)]}(t,r)));const i=Object.keys(t);for(let e=0,n=i.length;e<n;e++){const n=i[e],s=t[n];r[n]||(r[n]={}),(0,G.G)(r[n],Object.keys(s),(e=>s[e]))}return r}function Us(e,t){const r=e=>Object.keys(t[e]),n=(r,n)=>e(t[r][n]),i={},s=Object.keys(t);for(let e=0,t=s.length;e<t;e++)J(i,s[e],r,n);return i}function As({lookup:e},{method:t,section:r},n){return`${r}.${t}(${n.map((t=>e.getTypeDef(t).type)).join(", ")})`}function Is(e,t,r){const n=r.filter((e=>!(0,N.o)(e)));if(t.meta.type.isPlain){if(0!==n.length)throw new Error(`${As(e,t,[])} does not take any arguments, ${n.length} found`)}else{const{hashers:r,key:i}=t.meta.type.asMap,s=1===r.length?[i]:e.lookup.getSiType(i).def.asTuple.map((e=>e));if(n.length!==s.length)throw new Error(`${As(e,t,s)} is a map, requiring ${s.length} arguments, ${n.length} found`)}return[t,n]}var Ts=r(30686);class Cs{__internal__eventemitter=new Ts.v;emit(e,...t){return this.__internal__eventemitter.emit(e,...t)}on(e,t){return this.__internal__eventemitter.on(e,t),this}off(e,t){return this.__internal__eventemitter.removeListener(e,t),this}once(e,t){return this.__internal__eventemitter.once(e,t),this}}const Rs=1e3,Ms=(0,D.k)("api/init");let Bs=0;function Ps(e,{method:t,section:r}){return(0,V.k8)(e.rx.query[r]&&e.rx.query[r][t],(()=>`query.${r}.${t} is not available in this version of the metadata`))}class Hs extends Cs{__internal__instanceId;__internal__runtimeLog={};__internal__registry;__internal__storageGetQ=[];__internal__storageSubQ=[];__phantom=new Je(0);_type;_call={};_consts={};_derive;_errors={};_events={};_extrinsics;_extrinsicType=ts.Y.LATEST_EXTRINSIC_VERSION;_genesisHash;_isConnected;_isReady=!1;_query={};_queryMulti;_rpc;_rpcCore;_runtimeMap={};_runtimeChain;_runtimeMetadata;_runtimeVersion;_rx={call:{},consts:{},query:{},tx:{}};_options;_decorateMethod;constructor(e,t,r){super(),this.__internal__instanceId=""+ ++Bs,this.__internal__registry=e.source?.registry||e.registry||new P.P,this._rx.callAt=(e,t)=>(0,W.D)(this.at(e,t)).pipe((0,B.U)((e=>e.rx.call))),this._rx.queryAt=(e,t)=>(0,W.D)(this.at(e,t)).pipe((0,B.U)((e=>e.rx.query))),this._rx.registry=this.__internal__registry,this._decorateMethod=r,this._options=e,this._type=t;const n=e.source?e.source._rpcCore.provider.isClonable?e.source._rpcCore.provider.clone():e.source._rpcCore.provider:e.provider||new es.U;this._rpcCore=new Yi.mk(this.__internal__instanceId,this.__internal__registry,{isPedantic:this._options.isPedantic,provider:n,rpcCacheCapacity:this._options.rpcCacheCapacity,userRpc:this._options.rpc}),this._isConnected=new F.X(this._rpcCore.provider.isConnected),this._rx.hasSubscriptions=this._rpcCore.provider.hasSubscriptions}get registry(){return this.__internal__registry}createType(e,...t){return this.__internal__registry.createType(e,...t)}registerTypes(e){e&&this.__internal__registry.register(e)}get hasSubscriptions(){return this._rpcCore.provider.hasSubscriptions}get supportMulti(){return this._rpcCore.provider.hasSubscriptions||!!this._rpcCore.state.queryStorageAt}_emptyDecorated(e,t){return{call:{},consts:{},errors:{},events:{},query:{},registry:e,rx:{call:{},query:{}},tx:_s(this._type,this._rx,this._decorateMethod,e,t)}}_createDecorated(e,t,r,n){r||(r=this._emptyDecorated(e.registry,n)),!t&&e.decoratedMeta||(e.decoratedMeta=(0,rs.hJ)(e.registry,e.metadata));const i=this._decorateCalls(e,this._decorateMethod,n),s=this._decorateCalls(e,this._rxDecorateMethod,n),a=this._decorateStorage(e.decoratedMeta,this._decorateMethod,n),o=this._decorateStorage(e.decoratedMeta,this._rxDecorateMethod,n);return qs("consts",e.decoratedMeta.consts,r.consts,t),qs("errors",e.decoratedMeta.errors,r.errors,t),qs("events",e.decoratedMeta.events,r.events,t),qs("query",a,r.query,t),qs("query",o,r.rx.query,t),qs("call",i,r.call,t),qs("call",s,r.rx.call,t),r.findCall=t=>I(e.registry,t),r.findError=t=>T(e.registry,t),r.queryMulti=n?this._decorateMultiAt(r,this._decorateMethod,n):this._decorateMulti(this._decorateMethod),r.runtimeVersion=e.runtimeVersion,{createdAt:n,decoratedApi:r,decoratedMeta:e.decoratedMeta}}_injectMetadata(e,t=!1){!t&&e.decoratedApi||(e.decoratedApi=this._emptyDecorated(e.registry));const{decoratedApi:r,decoratedMeta:n}=this._createDecorated(e,t,e.decoratedApi);this._call=r.call,this._consts=r.consts,this._errors=r.errors,this._events=r.events,this._query=r.query,this._rx.call=r.rx.call,this._rx.query=r.rx.query;const i=this._decorateExtrinsics(n,this._decorateMethod),s=this._decorateExtrinsics(n,this._rxDecorateMethod);t||!this._extrinsics?(this._extrinsics=i,this._rx.tx=s):(qs("tx",i,this._extrinsics,!1),qs(null,s,this._rx.tx,!1)),qs(null,n.consts,this._rx.consts,t),this.emit("decorated")}injectMetadata(e,t,r){this._injectMetadata({counter:0,metadata:e,registry:r||this.__internal__registry,runtimeVersion:this.__internal__registry.createType("RuntimeVersionPartial")},t)}_decorateFunctionMeta(e,t){return t.meta=e.meta,t.method=e.method,t.section=e.section,t.toJSON=e.toJSON,e.callIndex&&(t.callIndex=e.callIndex),t}_filterRpc(e,t){0!==Object.keys(t).length&&(this._rpcCore.addUserInterfaces(t),this._decorateRpc(this._rpcCore,this._decorateMethod,this._rpc),this._decorateRpc(this._rpcCore,this._rxDecorateMethod,this._rx.rpc));const r={};for(let t=0,n=e.length;t<n;t++){const[n]=e[t].split("_");r[n]=!0}const n=Object.keys(r);for(let e=0,t=n.length;e<t;e++){const t=(0,is.k)(n[e]),r=`${t}Api`;this._runtimeMap[(0,L.$)(t,64)]=t,this._runtimeMap[(0,L.$)(r,64)]=r}this._filterRpcMethods(e)}_filterRpcMethods(e){const t=0!==e.length,r=[...this._rpcCore.mapping.entries()],n=[],i=r.length;for(let e=0;e<i;e++){const[,{alias:t,endpoint:i,method:s,pubsub:a,section:o}]=r[e];n.push(`${o}_${s}`),a&&(n.push(`${o}_${a[1]}`),n.push(`${o}_${a[2]}`)),t&&n.push(...t),i&&n.push(i)}const s=e.filter((e=>!n.includes(e)&&!e.includes("_unstable_")));s.length&&!this._options.noInitWarn&&Ms.warn(`RPC methods not decorated: ${s.join(", ")}`);for(let n=0;n<i;n++){const[i,{method:s,section:a}]=r[n];t&&!e.includes(i)&&"rpc_methods"!==i&&this._rpc[a]&&(delete this._rpc[a][s],delete this._rx.rpc[a][s])}}_rpcSubmitter(e){return e(((e,...t)=>(0,W.D)(this._rpcCore.provider.send(e,t))))}_decorateRpc(e,t,r=this._rpcSubmitter(t)){const n=r,i=(r,n)=>{const i=e[r][n],s=t(i,{methodName:n});return s.meta=i.meta,s.raw=t(i.raw,{methodName:n}),s};for(let t=0,r=e.sections.length;t<r;t++){const r=e.sections[t];if(!Object.prototype.hasOwnProperty.call(n,r)){const t=Object.keys(e[r]),s=e=>i(r,e);for(let e=0,i=t.length;e<i;e++){const i=t[e];(this.hasSubscriptions||!i.startsWith("subscribe")&&!i.startsWith("unsubscribe"))&&(Object.prototype.hasOwnProperty.call(n,r)||(n[r]={}),(0,G.W)(n[r],i,s))}}}return n}_addRuntimeDef(e,t){if(!t)return;const r=Object.entries(t);for(let t=0,n=r.length;t<n;t++){const[n,i]=r[t];if(e[n])for(let t=0,r=i.length;t<r;t++){const r=i[t],s=e[n].find((({version:e})=>r.version===e));s?(0,E.Z)(s.methods,r.methods):e[n].push(r)}else e[n]=i}}_getRuntimeDefs(e,t,r=""){const n={},i=Object.values(ns);for(let e=0,t=i.length;e<t;e++)this._addRuntimeDef(n,i[e].runtime);return this._addRuntimeDef(n,(0,O.eH)(e,r,t)),this._addRuntimeDef(n,this._options.runtime),Object.entries(n)}_getMethods(e,t){const r={};return t.forEach((t=>{const{docs:n,inputs:i,name:s,output:a}=t;r[s.toString()]={description:n.map((e=>e.toString())).join(),params:i.map((({name:t,type:r})=>({name:t.toString(),type:e.lookup.getName(r)||e.lookup.getTypeDef(r).type}))),type:e.lookup.getName(a)||e.lookup.getTypeDef(a).type}})),r}_getRuntimeDefsViaMetadata(e){const t={},{apis:r}=e.metadata;for(let n=0,i=r.length;n<i;n++){const{methods:i,name:s}=r[n];t[s.toString()]=[{methods:this._getMethods(e,i),version:0}]}return Object.entries(t)}_decorateCalls({registry:e,runtimeVersion:{apis:t,specName:r,specVersion:n}},i,s){const a={},o={},c={},u=e.metadata.apis.length>0,l=u?this._getRuntimeDefsViaMetadata(e):this._getRuntimeDefs(e,r,this._runtimeChain),d=[],p=`${r.toString()}/${n.toString()}`,h=this.__internal__runtimeLog[p]||!1;if(this.__internal__runtimeLog[p]=!0,u)for(let e=0,t=l.length;e<t;e++){const[t,r]=l[e],n=r[0],i=(0,L.$)(t,64),s=(0,ss.yZ)(t),a=Object.entries(n.methods);o[s]||(o[s]={});for(let e=0,r=a.length;e<r;e++){const[r,n]=a[e],c=(0,ss.yZ)(r);o[s][c]=(0,E.Z)({method:c,name:`${t}_${r}`,section:s,sectionHash:i},n)}}else{for(let e=0,r=l.length;e<r;e++){const[r,n]=l[e],i=(0,L.$)(r,64),s=t.find((([e])=>e.eq(i)));if(c[i]=!0,s){const e=n.map((({version:e})=>e)).sort(),t=n.find((({version:e})=>s[1].eq(e)));if(t){const e=(0,ss.yZ)(r),n=Object.entries(t.methods);if(n.length){o[e]||(o[e]={});for(let t=0,s=n.length;t<s;t++){const[s,a]=n[t],c=(0,ss.yZ)(s);o[e][c]=(0,E.Z)({method:c,name:`${r}_${s}`,section:e,sectionHash:i},a)}}}else d.push(`${r}/${s[1].toString()} (${e.join("/")} known)`)}}const e=t.map((([e,t])=>[e.toHex(),t.toString()])).filter((([e])=>!c[e])).map((([e,t])=>`${this._runtimeMap[e]||e}/${t}`));this._options.noInitWarn||h||(d.length&&Ms.warn(`${p}: Not decorating runtime apis without matching versions: ${d.join(", ")}`),e.length&&Ms.warn(`${p}: Not decorating unknown runtime apis: ${e.join(", ")}`))}const g=s?(e,t)=>this._rpcCore.state.call(e,t,s):(e,t)=>this._rpcCore.state.call(e,t),y=t=>(0,G.G)({},Object.keys(o[t]),(r=>this._decorateCall(e,o[t][r],g,i))),m=Object.keys(o);for(let e=0,t=m.length;e<t;e++)(0,G.W)(a,m[e],y);return a}_decorateCall(e,t,r,n){const i=n(((...n)=>{if(n.length!==t.params.length)throw new Error(`${t.name}:: Expected ${t.params.length} arguments, found ${n.length}`);const i=e.createType("Raw",(0,Wt.d)(n.map(((r,n)=>e.createTypeUnsafe(t.params[n].type,[r]).toU8a()))));return r(t.name,i).pipe((0,B.U)((r=>e.createTypeUnsafe(t.type,[r]))))}));return i.meta=t,i}_decorateMulti(e){return e((e=>e.length?(this.hasSubscriptions?this._rpcCore.state.subscribeStorage:this._rpcCore.state.queryStorageAt)(e.map((e=>Array.isArray(e)?e[0].creator.meta.type.isPlain?[e[0].creator]:1===e[0].creator.meta.type.asMap.hashers.length?[e[0].creator,e.slice(1)]:[e[0].creator,...e.slice(1)]:[e.creator]))):(0,M.of)([])))}_decorateMultiAt(e,t,r){return t((t=>t.length?this._rpcCore.state.queryStorageAt(t.map((t=>{if(Array.isArray(t)){const{creator:r}=Ps(e,t[0].creator);return r.meta.type.isPlain?[r]:1===r.meta.type.asMap.hashers.length?[r,t.slice(1)]:[r,...t.slice(1)]}return[Ps(e,t.creator).creator]})),r):(0,M.of)([])))}_decorateExtrinsics({tx:e},t){const r=_s(this._type,this._rx,t),n=t=>(0,G.G)({},Object.keys(e[t]),(n=>n.startsWith("$")?e[t][n]:this._decorateExtrinsicEntry(e[t][n],r))),i=Object.keys(e);for(let e=0,t=i.length;e<t;e++)(0,G.W)(r,i[e],n);return r}_decorateExtrinsicEntry(e,t){const r=(...r)=>t(e(...r));return r.is=t=>e.is(t),this._decorateFunctionMeta(e,r)}_decorateStorage({query:e,registry:t},r,n){const i={},s=i=>(0,G.G)({},Object.keys(e[i]),(s=>n?this._decorateStorageEntryAt(t,e[i][s],r,n):this._decorateStorageEntry(e[i][s],r))),a=Object.keys(e);for(let e=0,t=a.length;e<t;e++)(0,G.W)(i,a[e],s);return i}_decorateStorageEntry(e,t){const r=(t,r)=>Is(r||this.__internal__registry,e,t),n=t=>(0,W.D)(this.at(t)).pipe((0,B.U)((t=>Ps(t,e)))),i=this._decorateStorageCall(e,t);return i.creator=e,i.at=t(((e,...t)=>n(e).pipe((0,R.w)((e=>e(...t)))))),i.hash=t(((...e)=>this._rpcCore.state.getStorageHash(r(e)))),i.is=t=>t.section===e.section&&t.method===e.method,i.key=(...t)=>(0,q.c)((0,as.o)(e(...t))[1]),i.keyPrefix=(...t)=>(0,q.c)(e.keyPrefix(...t)),i.size=t(((...e)=>this._rpcCore.state.getStorageSize(r(e)))),i.sizeAt=t(((e,...t)=>n(e).pipe((0,R.w)((n=>this._rpcCore.state.getStorageSize(r(t,n.creator.meta.registry),e)))))),e.iterKey&&e.meta.type.isMap&&(i.entries=t((0,ee.X)(this.__internal__instanceId,((...t)=>this._retrieveMapEntries(e,null,t)))),i.entriesAt=t((0,ee.X)(this.__internal__instanceId,((e,...t)=>n(e).pipe((0,R.w)((r=>this._retrieveMapEntries(r.creator,e,t))))))),i.entriesPaged=t((0,ee.X)(this.__internal__instanceId,(t=>this._retrieveMapEntriesPaged(e,void 0,t)))),i.keys=t((0,ee.X)(this.__internal__instanceId,((...t)=>this._retrieveMapKeys(e,null,t)))),i.keysAt=t((0,ee.X)(this.__internal__instanceId,((e,...t)=>n(e).pipe((0,R.w)((r=>this._retrieveMapKeys(r.creator,e,t))))))),i.keysPaged=t((0,ee.X)(this.__internal__instanceId,(t=>this._retrieveMapKeysPaged(e,void 0,t))))),this.supportMulti&&e.meta.type.isMap&&(i.multi=t((t=>1===e.meta.type.asMap.hashers.length?this._retrieveMulti(t.map((t=>[e,[t]]))):this._retrieveMulti(t.map((t=>[e,t])))))),this._decorateFunctionMeta(e,i)}_decorateStorageEntryAt(e,t,r,n){const i=r=>Is(e,t,r),s=r(((...e)=>this._rpcCore.state.getStorage(i(e),n)));return s.creator=t,s.hash=r(((...e)=>this._rpcCore.state.getStorageHash(i(e),n))),s.is=e=>e.section===t.section&&e.method===t.method,s.key=(...e)=>(0,q.c)((0,as.o)(t(...e))[1]),s.keyPrefix=(...e)=>(0,q.c)(t.keyPrefix(...e)),s.size=r(((...e)=>this._rpcCore.state.getStorageSize(i(e),n))),t.iterKey&&t.meta.type.isMap&&(s.entries=r((0,ee.X)(this.__internal__instanceId,((...e)=>this._retrieveMapEntries(t,n,e)))),s.entriesPaged=r((0,ee.X)(this.__internal__instanceId,(e=>this._retrieveMapEntriesPaged(t,n,e)))),s.keys=r((0,ee.X)(this.__internal__instanceId,((...e)=>this._retrieveMapKeys(t,n,e)))),s.keysPaged=r((0,ee.X)(this.__internal__instanceId,(e=>this._retrieveMapKeysPaged(t,n,e))))),this.supportMulti&&t.meta.type.isMap&&(s.multi=r((e=>1===t.meta.type.asMap.hashers.length?this._retrieveMulti(e.map((e=>[t,[e]])),n):this._retrieveMulti(e.map((e=>[t,e])),n)))),this._decorateFunctionMeta(t,s)}_queueStorage(e,t){const r=t===this.__internal__storageSubQ?this._rpcCore.state.subscribeStorage:this._rpcCore.state.queryStorageAt;let n,i=t.length-1,s=0;return-1!==i&&t[i]&&50!==t[i][1].length?(n=t[i][0],s=t[i][1].length,t[i][1].push(e)):(i++,n=(0,W.D)(new Promise((e=>{(0,Ke.Y)((()=>{const r=t[i][1];delete t[i],e(r)}))}))).pipe((0,R.w)((e=>r(e)))),t.push([n,[e]])),n.pipe((0,B.U)((e=>e[s])))}_decorateStorageCall(e,t){return t((0,ee.X)(this.__internal__instanceId,((...t)=>{const r=Is(this.__internal__registry,e,t);return this.hasSubscriptions?this._queueStorage(r,this.__internal__storageSubQ):this._rpcCore.state.getStorage(r)})),{methodName:e.method,overrideNoSub:(...t)=>this._queueStorage(Is(this.__internal__registry,e,t),this.__internal__storageGetQ)})}_retrieveMulti(e,t){if(!e.length)return(0,M.of)([]);const r=this.hasSubscriptions&&!t?this._rpcCore.state.subscribeStorage:this._rpcCore.state.queryStorageAt;return e.length<=250?t?r(e,t):r(e):(0,Z.a)((0,bn.Z)(e,250).map((e=>t?r(e,t):r(e)))).pipe((0,B.U)(zt.a))}_retrieveMapKeys({iterKey:e,meta:t,method:r,section:n},i,s){if(!e||!t.type.isMap)throw new Error("keys can only be retrieved on maps");const a=e(...s).toHex(),o=new F.X(a),c=i?e=>this._rpcCore.state.getKeysPaged(a,Rs,e,i):e=>this._rpcCore.state.getKeysPaged(a,Rs,e),u=e=>e.setMeta(t,n,r);return o.pipe((0,R.w)(c),(0,B.U)((e=>e.map(u))),(0,z.b)((e=>(0,Ke.Y)((()=>{e.length===Rs?o.next(e[999].toHex()):o.complete()})))),(0,K.q)(),(0,B.U)(zt.a))}_retrieveMapKeysPaged({iterKey:e,meta:t,method:r,section:n},i,s){if(!e||!t.type.isMap)throw new Error("keys can only be retrieved on maps");const a=e=>e.setMeta(t,n,r);return(i?e=>this._rpcCore.state.getKeysPaged(e,s.pageSize,s.startKey||e,i):e=>this._rpcCore.state.getKeysPaged(e,s.pageSize,s.startKey||e))(e(...s.args).toHex()).pipe((0,B.U)((e=>e.map(a))))}_retrieveMapEntries(e,t,r){const n=t?e=>this._rpcCore.state.queryStorageAt(e,t):e=>this._rpcCore.state.queryStorageAt(e);return this._retrieveMapKeys(e,t,r).pipe((0,R.w)((e=>e.length?(0,Z.a)((0,bn.Z)(e,250).map(n)).pipe((0,B.U)((t=>(0,zt.a)(t).map(((t,r)=>[e[r],t]))))):(0,M.of)([]))))}_retrieveMapEntriesPaged(e,t,r){const n=t?e=>this._rpcCore.state.queryStorageAt(e,t):e=>this._rpcCore.state.queryStorageAt(e);return this._retrieveMapKeysPaged(e,t,r).pipe((0,R.w)((e=>e.length?n(e).pipe((0,B.U)((t=>t.map(((t,r)=>[e[r],t]))))):(0,M.of)([]))))}_decorateDeriveRx(e){const t=this._runtimeVersion?.specName.toString();return Us(e,function(e,t,r={}){return{...Qi(e,t,Gi),...Qi(e,t,r)}}(this.__internal__instanceId,this._rx,(0,E.Z)({},this._options.derives,this._options.typesBundle?.spec?.[t||""]?.derives)))}_decorateDerive(e){return Us(e,this._rx.derive)}_rxDecorateMethod=e=>e}const Os=[15,14],Ds=(0,D.k)("api/init");function Vs(e){return e.toString()}class Ns extends Hs{__internal__atLast=null;__internal__healthTimer=null;__internal__registries=[];__internal__updateSub=null;__internal__waitingRegistries={};constructor(e,t,r){super(e,t,r),this.registry.setKnownTypes(e),e.source?this.__internal__registries=e.source.__internal__registries:this.registerTypes(e.types),this._rpc=this._decorateRpc(this._rpcCore,this._decorateMethod),this._rx.rpc=this._decorateRpc(this._rpcCore,this._rxDecorateMethod),this.supportMulti&&(this._queryMulti=this._decorateMulti(this._decorateMethod),this._rx.queryMulti=this._decorateMulti(this._rxDecorateMethod)),this._rx.signer=e.signer,this._rpcCore.setRegistrySwap((e=>this.getBlockRegistry(e))),this._rpcCore.setResolveBlockHash((e=>(0,C.z)(this._rpcCore.chain.getBlockHash(e)))),this.hasSubscriptions?(this._rpcCore.provider.on("disconnected",(()=>this.__internal__onProviderDisconnect())),this._rpcCore.provider.on("error",(e=>this.__internal__onProviderError(e))),this._rpcCore.provider.on("connected",(()=>this.__internal__onProviderConnect()))):this._options.noInitWarn||Ds.warn("Api will be available in a limited mode since the provider does not support subscriptions"),this._rpcCore.provider.isConnected&&this.__internal__onProviderConnect().catch(k.Z)}_initRegistry(e,t,r,n,i){e.clearCache(),e.setChainProperties(i||this.registry.getChainProperties()),e.setKnownTypes(this._options),e.register((0,O.kh)(e,t,r.specName,r.specVersion)),e.setHasher((0,O.ve)(e,t,r.specName)),e.knownTypes.typesBundle&&(e.knownTypes.typesAlias=(0,O.Xn)(e,t,r.specName)),e.setMetadata(n,void 0,(0,E.Z)({},(0,O.oR)(e,t,r.specName),this._options.signedExtensions),this._options.noInitWarn)}_getDefaultRegistry(){return(0,V.k8)(this.__internal__registries.find((({isDefault:e})=>e)),"Initialization error, cannot find the default registry")}async at(e,t){const r=(0,U.Y)(e),n=(0,q.c)(r),i=await this.getBlockRegistry(r,t);return this.__internal__atLast&&this.__internal__atLast[0]===n||(this.__internal__atLast=[n,this._createDecorated(i,!0,null,r).decoratedApi]),this.__internal__atLast[1]}async _createBlockRegistry(e,t,r){const n=new P.P(e),i=await this._retrieveMetadata(r.apis,t.parentHash,n),s=this._runtimeChain;if(!s)throw new Error("Invalid initializion order, runtimeChain is not available");this._initRegistry(n,s,r,i);const a={counter:0,lastBlockHash:e,metadata:i,registry:n,runtimeVersion:r};return this.__internal__registries.push(a),a}_cacheBlockRegistryProgress(e,t){let r=this.__internal__waitingRegistries[e];return(0,N.o)(r)&&(r=this.__internal__waitingRegistries[e]=new Promise(((r,n)=>{t().then((t=>{delete this.__internal__waitingRegistries[e],r(t)})).catch((t=>{delete this.__internal__waitingRegistries[e],n(t)}))}))),r}_getBlockRegistryViaVersion(e,t){if(t){const r=this.__internal__registries.find((({runtimeVersion:{specName:e,specVersion:r}})=>e.eq(t.specName)&&r.eq(t.specVersion)));if(r)return r.counter++,r.lastBlockHash=e,r}return null}async _getBlockRegistryViaHash(e){if(!this._genesisHash||!this._runtimeVersion)throw new Error("Cannot retrieve data on an uninitialized chain");const t=this.registry.createType("HeaderPartial",this._genesisHash.eq(e)?{number:$.nw,parentHash:this._genesisHash}:await(0,C.z)(this._rpcCore.chain.getHeader.raw(e)));if(t.parentHash.isEmpty)throw new Error("Unable to retrieve header and parent from supplied hash");const[r,n]=(0,O.ur)(this._genesisHash,t.number),i=this.registry.createType("RuntimeVersionPartial",await(0,C.z)(this._rpcCore.state.getRuntimeVersion.raw(t.parentHash)));return this._getBlockRegistryViaVersion(e,i)||await this._cacheBlockRegistryProgress(i.toHex(),(()=>this._createBlockRegistry(e,t,i)))}async getBlockRegistry(e,t){return this.__internal__registries.find((({lastBlockHash:t})=>t&&(0,X.S)(t,e)))||this._getBlockRegistryViaVersion(e,t)||await this._cacheBlockRegistryProgress((0,q.c)(e),(()=>this._getBlockRegistryViaHash(e)))}async _loadMeta(){return this._isReady?(this._options.source||this._subscribeUpdates(),!0):(this._unsubscribeUpdates(),[this._genesisHash,this._runtimeMetadata]=this._options.source?._isReady?await this._metaFromSource(this._options.source):await this._metaFromChain(this._options.metadata),this._initFromMeta(this._runtimeMetadata))}async _metaFromSource(e){this._extrinsicType=e.extrinsicVersion,this._runtimeChain=e.runtimeChain,this._runtimeVersion=e.runtimeVersion;const t=Object.keys(e.rpc),r=[];for(let n=0,i=t.length;n<i;n++){const i=t[n],s=Object.keys(e.rpc[i]);for(let e=0,t=s.length;e<t;e++)r.push(`${i}_${s[e]}`)}return this._filterRpc(r,(0,O.KM)(this.registry,e.runtimeChain,e.runtimeVersion.specName)),[e.genesisHash,e.runtimeMetadata]}_subscribeUpdates(){!this.__internal__updateSub&&this.hasSubscriptions&&(this.__internal__updateSub=this._rpcCore.state.subscribeRuntimeVersion().pipe((0,R.w)((e=>this._runtimeVersion?.specVersion.eq(e.specVersion)?(0,M.of)(!1):this._rpcCore.state.getMetadata().pipe((0,B.U)((t=>{Ds.log(`Runtime version updated to spec=${e.specVersion.toString()}, tx=${e.transactionVersion.toString()}`),this._runtimeMetadata=t,this._runtimeVersion=e,this._rx.runtimeVersion=e;const r=this._getDefaultRegistry(),n=this._runtimeChain;if(!n)throw new Error("Invalid initializion order, runtimeChain is not available");return r.metadata=t,r.runtimeVersion=e,this._initRegistry(this.registry,n,e,t),this._injectMetadata(r,!0),!0})))))).subscribe())}async _metaFromChain(e){const[t,r,n,i,s]=await Promise.all([(0,C.z)(this._rpcCore.chain.getBlockHash(0)),(0,C.z)(this._rpcCore.state.getRuntimeVersion()),(0,C.z)(this._rpcCore.system.chain()),(0,C.z)(this._rpcCore.system.properties()),(0,C.z)(this._rpcCore.rpc.methods())]);this._runtimeChain=n,this._runtimeVersion=r,this._rx.runtimeVersion=r;const a=`${t.toHex()||"0x"}-${r.specVersion.toString()}`,o=e?.[a]?new H.S(this.registry,e[a]):await this._retrieveMetadata(r.apis);return this._initRegistry(this.registry,n,r,o,i),this._filterRpc(s.methods.map(Vs),(0,O.KM)(this.registry,n,r.specName)),this._subscribeUpdates(),this.__internal__registries.length||this.__internal__registries.push({counter:0,isDefault:!0,metadata:o,registry:this.registry,runtimeVersion:r}),o.getUniqTypes(this._options.throwOnUnknown||!1),[t,o]}_initFromMeta(e){const t=this._runtimeVersion;if(!t)throw new Error("Invalid initializion order, runtimeVersion is not available");return this._extrinsicType=e.asLatest.extrinsic.version.toNumber(),this._rx.extrinsicType=this._extrinsicType,this._rx.genesisHash=this._genesisHash,this._rx.runtimeVersion=t,this._injectMetadata(this._getDefaultRegistry(),!0),this._rx.derive=this._decorateDeriveRx(this._rxDecorateMethod),this._derive=this._decorateDerive(this._decorateMethod),!0}async _retrieveMetadata(e,t,r){let n=null;const i=e.find((([e])=>e.eq((0,L.$)("Metadata",64)))),s=r||this.registry;if(!i||i[1].toNumber()<2)return Ds.warn("MetadataApi not available, rpc::state::get_metadata will be used."),t?new H.S(s,await(0,C.z)(this._rpcCore.state.getMetadata.raw(t))):await(0,C.z)(this._rpcCore.state.getMetadata());try{const e=t?await(0,C.z)(this._rpcCore.state.call.raw("Metadata_metadata_versions","0x",t)):await(0,C.z)(this._rpcCore.state.call("Metadata_metadata_versions","0x"));n=s.createType("Vec<u32>",e).filter((e=>Os.includes(e.toNumber()))).reduce(((e,t)=>t.gt(e)?t:e))}catch(e){Ds.debug(e.message),Ds.warn("error with state_call::Metadata_metadata_versions, rpc::state::get_metadata will be used")}if(n&&!Os.includes(n.toNumber())&&(n=null),n)try{const e=t?await(0,C.z)(this._rpcCore.state.call.raw("Metadata_metadata_at_version",(0,q.c)(n.toU8a()),t)):await(0,C.z)(this._rpcCore.state.call("Metadata_metadata_at_version",(0,q.c)(n.toU8a()))),r=t?s.createType("Raw",e).toU8a():e,i=s.createType("Option<OpaqueMetadata>",r).unwrapOr(null);if(i)return new H.S(s,i.toHex())}catch(e){Ds.debug(e.message),Ds.warn("error with state_call::Metadata_metadata_at_version, rpc::state::get_metadata will be used")}return t?new H.S(s,await(0,C.z)(this._rpcCore.state.getMetadata.raw(t))):await(0,C.z)(this._rpcCore.state.getMetadata())}_subscribeHealth(){this._unsubscribeHealth(),this.__internal__healthTimer=this.hasSubscriptions?setInterval((()=>{(0,C.z)(this._rpcCore.system.health.raw()).catch(k.Z)}),1e4):null}_unsubscribeHealth(){this.__internal__healthTimer&&(clearInterval(this.__internal__healthTimer),this.__internal__healthTimer=null)}_unsubscribeUpdates(){this.__internal__updateSub&&(this.__internal__updateSub.unsubscribe(),this.__internal__updateSub=null)}_unsubscribe(){this._unsubscribeHealth(),this._unsubscribeUpdates()}async __internal__onProviderConnect(){this._isConnected.next(!0),this.emit("connected");try{const e=!1===this._options.initWasm||await(0,j.I)(),t=await this._loadMeta();this._subscribeHealth(),t&&!this._isReady&&e&&(this._isReady=!0,this.emit("ready",this))}catch(e){const t=new Error(`FATAL: Unable to initialize the API: ${e.message}`);Ds.error(t),this.emit("error",t)}}__internal__onProviderDisconnect(){this._isConnected.next(!1),this._unsubscribe(),this.emit("disconnected")}__internal__onProviderError(e){this.emit("error",e)}}function $s(e){if(void 0===e)throw new Error("Api interfaces needs to be initialized before using, wait for 'isReady'");return e}class Xs extends Ns{get call(){return $s(this._call)}get consts(){return $s(this._consts)}get derive(){return $s(this._derive)}get errors(){return $s(this._errors)}get events(){return $s(this._events)}get extrinsicVersion(){return this._extrinsicType}get genesisHash(){return $s(this._genesisHash)}get isConnected(){return this._isConnected.getValue()}get libraryInfo(){return`@polkadot/api v${A}`}get query(){return $s(this._query)}get queryMulti(){return $s(this._queryMulti)}get rpc(){return $s(this._rpc)}get runtimeChain(){return $s(this._runtimeChain)}get runtimeMetadata(){return $s(this._runtimeMetadata)}get runtimeVersion(){return $s(this._runtimeVersion)}get rx(){return $s(this._rx)}get stats(){return this._rpcCore.stats}get type(){return this._type}get tx(){return $s(this._extrinsics)}findCall(e){return I(this.registry,e)}findError(e){return T(this.registry,e)}}class Ls extends Xs{constructor(e={},t,r){super(e,t,r)}connect(){return this._rpcCore.connect()}disconnect(){return this._unsubscribe(),this._rpcCore.disconnect()}setSigner(e){this._rx.signer=e}async sign(e,t,{signer:r}={}){if((0,S.H)(e)){const n=r||this._rx.signer;if(!n?.signRaw)throw new Error("No signer exists with a signRaw interface. You possibly need to pass through an explicit keypair for the origin so it can be used for signing.");return(await n.signRaw((0,E.Z)({type:"bytes"},t,{address:e}))).signature}return(0,q.c)(e.sign((0,U.Y)(t.data)))}}class js{__internal__allHasFired=!1;__internal__callback;__internal__fired=[];__internal__fns=[];__internal__isActive=!0;__internal__results=[];__internal__subscriptions=[];constructor(e,t){this.__internal__callback=t,this.__internal__subscriptions=e.map((async(e,t)=>{const[r,...n]=Array.isArray(e)?e:[e];return this.__internal__fired.push(!1),this.__internal__fns.push(r),r(...n,this._createCallback(t))}))}_allHasFired(){return this.__internal__allHasFired||=0===this.__internal__fired.filter((e=>!e)).length,this.__internal__allHasFired}_createCallback(e){return t=>{this.__internal__fired[e]=!0,this.__internal__results[e]=t,this._triggerUpdate()}}_triggerUpdate(){if(this.__internal__isActive&&(0,re.m)(this.__internal__callback)&&this._allHasFired())try{Promise.resolve(this.__internal__callback(this.__internal__results)).catch(k.Z)}catch{}}unsubscribe(){this.__internal__isActive&&(this.__internal__isActive=!1,Promise.all(this.__internal__subscriptions.map((async e=>{try{const t=await e;(0,re.m)(t)&&t()}catch{}}))).catch((()=>{})))}}var Ws=r(10589);class Fs extends Ls{__internal__isReadyPromise;__internal__isReadyOrErrorPromise;constructor(e){super(e,"promise",Ws.x),this.__internal__isReadyPromise=new Promise((e=>{super.once("ready",(()=>e(this)))})),this.__internal__isReadyOrErrorPromise=new Promise(((e,t)=>{const r=(0,Ws.g)(e,t);super.once("ready",(()=>r.resolve(this))),super.once("error",(e=>r.reject(e)))}))}static create(e){const t=new Fs(e);return e&&e.throwOnConnect?t.isReadyOrError:(t.isReadyOrError.catch(k.Z),t.isReady)}get isReady(){return this.__internal__isReadyPromise}get isReadyOrError(){return this.__internal__isReadyOrErrorPromise}clone(){return new Fs((0,E.Z)({},this._options,{source:this}))}async combineLatest(e,t){const r=new js(e,t);return()=>{r.unsubscribe()}}}},10589:(e,t,r)=>{r.d(t,{g:()=>c,x:()=>u});var n=r(20),i=r(47009),s=r(11348),a=r(33661),o=r(17965);function c(e,t){let r=!1;return{reject:e=>(r||(r=!0,t(e)),n.E),resolve:t=>{r||(r=!0,e(t))}}}function u(e,t){const r=!(!t?.methodName||!t.methodName.includes("subscribe"));return function(...n){const[u,l]=function(e,t){const r=e.slice(),n=e.length&&(0,a.m)(e[e.length-1])?r.pop():void 0;if(t&&!(0,a.m)(n))throw new Error("Expected a callback to be passed with subscriptions");return[r,n]}(n,r);return l?function(e,t,r){return new Promise(((n,a)=>{const u=c(n,a),l=e(...t).pipe((0,i.K)((e=>u.reject(e))),(0,s.b)((()=>u.resolve((()=>l.unsubscribe()))))).subscribe((e=>{(0,o.Y)((()=>r(e)))}))}))}(e,u,l):function(e,t){return new Promise(((r,n)=>{const s=c(r,n),a=e(...t).pipe((0,i.K)((e=>s.reject(e)))).subscribe((e=>{s.resolve(e),(0,o.Y)((()=>a.unsubscribe()))}))}))}(t?.overrideNoSub||e,u)}}},89492:(e,t,r)=>{r.d(t,{h:()=>o});const n=e=>e;function i(e,t,r,n){return e.filter((({event:e})=>t===e.section&&r.includes(e.method))).map((e=>n(e)))}function s({event:{data:[e]}}){return e}function a({event:{data:e,method:t}}){return"ExtrinsicSuccess"===t?e[0]:e[1]}class o{dispatchError;dispatchInfo;internalError;events;status;txHash;txIndex;blockNumber;constructor({blockNumber:e,dispatchError:t,dispatchInfo:r,events:n,internalError:o,status:c,txHash:u,txIndex:l}){this.dispatchError=t||function(e=[]){return i(e,"system",["ExtrinsicFailed"],s)[0]}(n),this.dispatchInfo=r||function(e=[]){return i(e,"system",["ExtrinsicFailed","ExtrinsicSuccess"],a)[0]}(n),this.events=n||[],this.internalError=o,this.status=c,this.txHash=u,this.txIndex=l,this.blockNumber=e}get isCompleted(){return this.isError||this.status.isInBlock||this.status.isFinalized}get isError(){return this.status.isDropped||this.status.isFinalityTimeout||this.status.isInvalid||this.status.isUsurped}get isFinalized(){return this.status.isFinalized}get isInBlock(){return this.status.isInBlock}get isWarning(){return this.status.isRetracted}filterRecords(e,t){return i(this.events,e,Array.isArray(t)?t:[t],n)}findRecord(e,t){return this.filterRecords(e,t)[0]}toHuman(e){return{dispatchError:this.dispatchError?.toHuman(),dispatchInfo:this.dispatchInfo?.toHuman(),events:this.events.map((t=>t.toHuman(e))),internalError:this.internalError?.message.toString(),status:this.status.toHuman(e)}}}}}]);